<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>Spring 全栈开发学习笔记 | Trenchance's Home</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="https://unpkg.com/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="https://unpkg.com/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="https://unpkg.com/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="https://unpkg.com/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Spring 全栈开发学习笔记</h1><a id="logo" href="/.">Trenchance's Home</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Spring 全栈开发学习笔记</h1><div class="post-meta">2025-07-29</div><div class="post-content"><h1 id="Spring-全栈学习笔记"><a href="#Spring-全栈学习笔记" class="headerlink" title="Spring 全栈学习笔记"></a>Spring 全栈学习笔记</h1><p>@Trenchance 2025.06.10</p>
<h2 id="JAVA-环境配置"><a href="#JAVA-环境配置" class="headerlink" title="JAVA 环境配置"></a>JAVA 环境配置</h2><p>环境变量，可以直接新建变量 <code>JAVA_HOME</code> 并在 Path 中加入。也可以直接放在 Path。</p>
<img src="./Spring后端学习笔记.assets/image-20250611083414712.png" alt="image-20250611083414712" style="zoom: 33%;" />

<img src="./Spring后端学习笔记.assets/image-20250611083659586.png" alt="image-20250611083659586" style="zoom:33%;" />

<h2 id="Maven-配置"><a href="#Maven-配置" class="headerlink" title="Maven 配置"></a>Maven 配置</h2><p>在这里下载 <a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi%E3%80%82">https://maven.apache.org/download.cgi。</a></p>
<p>本地仓库配置 <code>settings.xml</code>:</p>
<img src="./Spring后端学习笔记.assets/image-20250611084145779.png" alt="image-20250611084145779" style="zoom:33%;" />

<p>添加：</p>
<p> <code>&lt;localRepository&gt;D:\maven\repository&lt;/localRepository&gt;</code>。</p>
<p>远程仓库配置同样配置 <code>settings.xml</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- mirror</span></span><br><span class="line"><span class="comment">   | Specifies a repository mirror site to use instead of a given repository. The repository that</span></span><br><span class="line"><span class="comment">   | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span></span><br><span class="line"><span class="comment">   | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyunmaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>阿里云公共仓库<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Spring-初始化配置"><a href="#Spring-初始化配置" class="headerlink" title="Spring 初始化配置"></a>Spring 初始化配置</h2><img src="./Spring后端学习笔记.assets/image-20250611090226085.png" alt="image-20250611090226085" style="zoom:50%;" />

<img src="./Spring后端学习笔记.assets/image-20250611090447674.png" alt="image-20250611090447674" style="zoom: 50%;" />

<h2 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h2><h3 id="RestController"><a href="#RestController" class="headerlink" title="@RestController"></a>@RestController</h3><img src="./Spring后端学习笔记.assets/image-20250611093836858.png" alt="image-20250611093836858" style="zoom: 33%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">Hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一般情况下，我们的 url 是 <a target="_blank" rel="noopener" href="http://www.baidu.com/s/xx%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9A%84">http://www.baidu.com/s/xx，我们的</a> &#x2F;hello 定义了 &#x2F;s&#x2F;xx 的部分。</p>
<p>由于我们是本地项目，还未部署，因此访问方法需要 <a target="_blank" rel="noopener" href="http://localhost:8085/hello%E3%80%82">http://localhost:8085/hello。</a></p>
<p>@Controller 注解 默认只能返回要跳转的路径即跳转的 html&#x2F;JSP 页面。只有添加了 @ResponseBody注解后才可以返回 方法中 指定的返回类型。一般配合 Thymeleaf 模板引擎使用，能够返回一个页面。</p>
<p>@RestController 注解 ，则返回的是方法指定的返回类型。例如：如果返回类型为 ModelAndView 则返回指定的jsp 页面，如果是 String 则返回字符串，如果是 JSONObject 则返回json对象。<strong>默认情况下，@RestController 注解返回 JSON 格式</strong>。</p>
<p><strong>如果采用前后端分离，那么不需要使用 @Controller 注解。</strong></p>
<p>@RestController 注解具体使用如下：</p>
<img src="./Spring后端学习笔记.assets/image-20250611094900622.png" alt="image-20250611094900622" style="zoom: 25%;" />

<img src="./Spring后端学习笔记.assets/image-20250611095516557.png" alt="image-20250611095516557" style="zoom:25%;" />

<h3 id="HTTP-不同请求方法"><a href="#HTTP-不同请求方法" class="headerlink" title="HTTP 不同请求方法"></a>HTTP 不同请求方法</h3><img src="./Spring后端学习笔记.assets/image-20250611095606837.png" alt="image-20250611095606837" style="zoom:25%;" />

<h4 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h4><p>GET请求通过<strong>将请求参数附加到URL中</strong>，以查询字符串的形式出现，以便将信息发送给服务器。这种请求方法适用于获取数据，而不是修改数据，因此它通常用于查询操作，如获取网页内容、图片、视频等资源。</p>
<p>形如：<a target="_blank" rel="noopener" href="http://localhost:8080/user/article/page?page=1&amp;pageSize=5%E3%80%82%E8%BF%99%E4%B8%AA%E5%B0%B1%E6%98%AF">http://localhost:8080/user/article/page?page=1&amp;pageSize=5。这个就是</a> queryString 形式。</p>
<p>前端：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request.js&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//用户查询</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">userQueryService</span> = (<span class="params">userId</span>)=&gt;&#123;</span><br><span class="line">   <span class="keyword">return</span>  request.<span class="title function_">get</span>(<span class="string">&#x27;/user/&#x27;</span>+userId)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>后端：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用户查询</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/user/&#123;userId&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;User&gt; <span class="title function_">queryUser</span><span class="params">(<span class="meta">@PathVariable</span> Long userId)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;查询用户:&#123;&#125;&quot;</span>,userId);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(userId);</span><br><span class="line">        <span class="keyword">return</span> Result.success(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当你在 URL 中使用了占位符（如 <code>/user/&#123;id&#125;</code>）（又叫路径参数），就需要使用 <code>@PathVariable</code> 从路径中获取这个参数。</p>
<h4 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h4><p>POST：用于向服务器提交数据并创建新资源或修改现有资源。它通过将数据包含在<strong>请求体</strong>中而不是URL中。POST请求通常用于提交表单数据、上传文件或在服务器上执行某些操作。与GET请求不同，POST请求更适合用于需要创建或修改服务器上资源的场景。‌</p>
<h4 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h4><p>用于向服务器发送数据以更新已存在的资源。当你想要替换某个指定URL下的现有信息时，就使用PUT方法。它通常包含完整的资源内容，意味着服务器会在接收到请求后，完全用请求体中的数据替换原有资源。如果该资源不存在，一些服务器可能会返回404错误。PUT请求常用于更新用户资料、修改博客文章等场景。</p>
<p>PUT：用于向服务器上传文件或更新资源。PUT请求会将请求的数据存储在服务器上指定的位置。</p>
<h3 id="GET-请求示例"><a href="#GET-请求示例" class="headerlink" title="GET 请求示例"></a>GET 请求示例</h3><h4 id="普通-GET"><a href="#普通-GET" class="headerlink" title="普通 GET"></a>普通 GET</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述代码等价于</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="QueryString-GET"><a href="#QueryString-GET" class="headerlink" title="QueryString GET"></a>QueryString GET</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/greet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">greet</span><span class="params">(String nickname, String phone)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + nickname + <span class="string">&quot;! Your phone number is &quot;</span> + phone + <span class="string">&quot;.&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="./Spring后端学习笔记.assets/image-20250611102648680.png" alt="image-20250611102648680" style="zoom:50%;" />

<h4 id="参数不一致的-QueryString-GET"><a href="#参数不一致的-QueryString-GET" class="headerlink" title="参数不一致的 QueryString GET"></a>参数不一致的 QueryString GET</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/greet2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">greet2</span><span class="params">(<span class="meta">@RequestParam(value = &quot;nickname&quot;, defaultValue = &quot;Guest&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                     <span class="meta">@RequestParam(value = &quot;phone&quot;, required = false)</span> String phone)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + name + <span class="string">&quot;! Your phone number is &quot;</span> + phone + <span class="string">&quot;.&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@RequestParam</code> 实现了参数映射。</p>
<h3 id="URL-通配符"><a href="#URL-通配符" class="headerlink" title="URL 通配符"></a>URL 通配符</h3><p>路径中的通配符：？（匹配单个字符），<em>（匹配除&#x2F;外任意字符）、</em>*&#x2F;(匹配任意多个目录)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/greet?&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">greet3</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, World!3&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping(&quot;/greet*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">greet4</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, World!4&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping(&quot;/greet/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">greet5</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, World!5&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@GetMapping(&quot;/greet/**&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">greet6</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, World!6&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="POST-请求与-Apipost"><a href="#POST-请求与-Apipost" class="headerlink" title="POST 请求与 Apipost"></a>POST 请求与 Apipost</h2><p>后端代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/post1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">post1</span><span class="params">(String a)</span>&#123;</span><br><span class="line">    System.out.println(a);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;POST SUCCESS&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>直接打开 APIPOST，新建项目，然后在“全部接口”中点击加号新建接口。</p>
<p>路径填写：<code>localhost:8085/post1</code></p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611133619115.png" alt="image-20250611133619115"></p>
<p>由于这里没有发送请求体，因此控制台输出 <code>null</code>。</p>
<h3 id="一般参数的请求体构造"><a href="#一般参数的请求体构造" class="headerlink" title="一般参数的请求体构造"></a>一般参数的请求体构造</h3><p>POST 的参数是放在请求体里面的，接下来演示含有请求体的，后端代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/post1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">post1</span><span class="params">(String a, String password)</span>&#123;</span><br><span class="line">    System.out.println(a);</span><br><span class="line">    System.out.println(password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;POST SUCCESS&quot;</span> + a + password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>这里注意修改为 Body，且注意修改为 urlencoded</strong>。</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611134139651.png" alt="image-20250611134139651"></p>
<p>当然也可以用 Query：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611134559269.png" alt="image-20250611134559269"></p>
<p>注意，POST 请求不能够在地址栏中直接发送，必须通过 Apipost 之类的调试工具。不然 405 错误。</p>
<h3 id="传递对象的请求体构造"><a href="#传递对象的请求体构造" class="headerlink" title="传递对象的请求体构造"></a>传递对象的请求体构造</h3><p>假如我们在项目的 entity 包中创建了 User 类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String Username;</span><br><span class="line">    <span class="keyword">private</span> String Password;</span><br><span class="line">    <span class="keyword">private</span> String Email;</span><br><span class="line">    <span class="keyword">private</span> String Phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.Username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.Password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEmail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmail</span><span class="params">(String email)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.Email = email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.Phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&quot;</span> +</span><br><span class="line">                <span class="string">&quot;Username=&#x27;&quot;</span> + Username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, Password=&#x27;&quot;</span> + Password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, Email=&#x27;&quot;</span> + Email + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, Phone=&#x27;&quot;</span> + Phone + <span class="string">&#x27;\&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>后端代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/post2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">post2</span><span class="params">(User user)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;POST SUCCESS&quot;</span> + user.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>APIPOST 调试：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611135638080.png" alt="image-20250611135638080"></p>
<p>当然，也可以通过 json 直接构造请求体：</p>
<p>后端代码需要加上 @RequestBody 注解：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/post4&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">post4</span><span class="params">(<span class="meta">@RequestBody</span> User2 user)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;POST SUCCESS&quot;</span> + user.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611141501449.png" alt="image-20250611141501449"></p>
<p>有一个非常奇怪的问题，如果我们的实体类中，属性含有大写字母， 同时我们 json 构造的时候也用大写字母，这个时候会出现参数传不过去的情况。</p>
<p>解决方案：在实体类的属性加上 <code>@JsonProperty(value = &quot;&quot;)</code> 注解，在日期类型的属性上加<code>@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;,timezone=&quot;GMT+8&quot;)</code> ；或者要么是“全小写如id”要么“小写字母后面不要紧挨着大写字母，如fossilEnergy”。</p>
<p>但是这样还会出很多莫名其妙问题，建议不要使用通过 json 直接构造请求体的方式，要么就全小写。</p>
<h2 id="静态文件访问-上传-拦截"><a href="#静态文件访问-上传-拦截" class="headerlink" title="静态文件访问+上传+拦截"></a>静态文件访问+上传+拦截</h2><h3 id="静态文件访问"><a href="#静态文件访问" class="headerlink" title="静态文件访问"></a>静态文件访问</h3><p>如果我们放一个图片在 static 目录下，例如我们有 static&#x2F;band.jpg，那么直接在浏览器输入 <a target="_blank" rel="noopener" href="http://localhost:8085/band.jpg">http://localhost:8085/band.jpg</a> 即可访问。</p>
<p>如果我们在配置文件 application.properties 中添加这样一句话：<code>spring.mvc.static-path-pattern=/img/**</code>，那么我们的访问路径就会改为：<a target="_blank" rel="noopener" href="http://localhost:8085/img/band.jpg%E3%80%82%E5%8D%B3%E8%BF%99%E5%8F%A5%E9%85%8D%E7%BD%AE%E6%8C%87%E5%AE%9A%E4%BA%86%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9A%84">http://localhost:8085/img/band.jpg。即这句配置指定了静态资源的</a> URL 路径模式。</p>
<p><code>spring.web.resources.static-locations=classpath:/images/</code> 这行配置指定了静态资源在应用程序中的位置。这里是把静态资源全放在 images 目录下。</p>
<img src="./Spring后端学习笔记.assets/image-20250611153236850.png" alt="image-20250611153236850" style="zoom:50%;" />

<p>这里的 classpath 解释一下：classpath 是指类路径，我们编译后的文件都放在 target 目录下，其中 classes 就是类路径。但我们不需要手动放在这里，开发过程中放在 resources 目录即可。</p>
<img src="./Spring后端学习笔记.assets/image-20250611153433818.png" alt="image-20250611153433818" style="zoom:50%;" />

<p>可以修改文件上传的大小限制：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.servlet.multipart.max-file-size</span>=<span class="string">10MB</span></span><br><span class="line"><span class="attr">spring.servlet.multipart.max-request-size</span>=<span class="string">10MB</span></span><br></pre></td></tr></table></figure>

<h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><p>后端代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">up</span><span class="params">(String nickname, MultipartFile photo, HttpServletRequest request)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        System.out.println(nickname);</span><br><span class="line">        System.out.println(photo.getOriginalFilename());</span><br><span class="line">        System.out.println(photo.getSize());</span><br><span class="line">        System.out.println(photo.getContentType());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 因为最终文件需要上传到 web 服务器，需要动态获取 web 服务器运行目录</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> request.getServletContext().getRealPath(<span class="string">&quot;/upload/&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Upload path: &quot;</span> + path);</span><br><span class="line">        saveFile(photo, path);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;上传成功&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveFile</span><span class="params">(MultipartFile photo, String path)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path);</span><br><span class="line">        <span class="keyword">if</span> (!dir.exists()) &#123;</span><br><span class="line">            dir.mkdir(); <span class="comment">// 创建目录</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path+photo.getOriginalFilename());</span><br><span class="line">        photo.transferTo(file);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Apipost 调试：注意类型改为 form-data。</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611155528522.png" alt="image-20250611155528522"></p>
<p>控制台打印：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611160424370.png" alt="image-20250611160424370"></p>
<p>我们可以看到，图片的确从本地上传到服务器（因为我们没有部署，这里的路径是 Tomcat 为我们分配的）：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611160529375.png" alt="image-20250611160529375"></p>
<p>如果配置文件写这句话：<code>spring.web.resources.static-locations=/upload/</code>，这里的斜线就代表着服务器的路径，这个时候在地址栏访问 <a target="_blank" rel="noopener" href="http://localhost:8085/83651130_p0.png">http://localhost:8085/83651130_p0.png</a> 即可看到这张图。这时就是直接从服务器拿到这张图了。</p>
<h3 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h3><img src="./Spring后端学习笔记.assets/image-20250611161334178.png" alt="image-20250611161334178" style="zoom: 33%;" />

<img src="./Spring后端学习笔记.assets/image-20250611161650554.png" alt="image-20250611161650554" style="zoom: 33%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;LoginInterceptor: preHandle false&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="./Spring后端学习笔记.assets/image-20250611161728779.png" alt="image-20250611161728779" style="zoom:33%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.interceptor.LoginInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>()).addPathPatterns(<span class="string">&quot;/user/**&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要注意的几点，拦截器必须注册之后才能够使用，这里我们创建一个 config 包，并创建 WebConfig 类，注意必须有 @Configuration 注解。</p>
<h2 id="RESTful-设计风格"><a href="#RESTful-设计风格" class="headerlink" title="RESTful 设计风格"></a>RESTful 设计风格</h2><img src="./Spring后端学习笔记.assets/image-20250611163931942.png" alt="image-20250611163931942" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250611164654759.png" alt="image-20250611164654759" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250611164817137.png" alt="image-20250611164817137" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250611164836458.png" alt="image-20250611164836458" style="zoom: 50%;" />

<p>传统方法中，删除用户使用 GET 请求，然后在 url 中使用 delete 之类的动词，但是在 RESTful中，直接使用 DELETE请求，并且直接在 url 中传 &#x2F;user&#x2F;id，url 中不包括动词。</p>
<img src="./Spring后端学习笔记.assets/image-20250611165038671.png" alt="image-20250611165038671" style="zoom:50%;" />

<p>这里要注意 @PathVariable 注解，因为 id 是动态的放在路径里的。</p>
<img src="./Spring后端学习笔记.assets/image-20250611165307056.png" alt="image-20250611165307056" style="zoom:33%;" />

<h2 id="Swagger-生成-API-文档"><a href="#Swagger-生成-API-文档" class="headerlink" title="Swagger 生成 API 文档"></a>Swagger 生成 API 文档</h2><p>首先导入 Swagger 依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- swagger --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>然后配置：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.config;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.ApiInfoBuilder;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.ApiInfo;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.Contact;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spi.DocumentationType;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spring.web.plugins.Docket;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">docket</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个 swagger 的 bean 实例</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                <span class="comment">// 配置基本信息</span></span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 基本信息设置</span></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Contact</span> <span class="variable">contact</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Contact</span>(</span><br><span class="line">                <span class="string">&quot;米大傻&quot;</span>, <span class="comment">// 作者姓名</span></span><br><span class="line">                <span class="string">&quot;https://blog.csdn.net/xhmico?type=blog&quot;</span>, <span class="comment">// 作者网址</span></span><br><span class="line">                <span class="string">&quot;777777777@163.com&quot;</span>); <span class="comment">// 作者邮箱</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;多加辣-接口文档&quot;</span>) <span class="comment">// 标题</span></span><br><span class="line">                .description(<span class="string">&quot;众里寻他千百度，慕然回首那人却在灯火阑珊处&quot;</span>) <span class="comment">// 描述</span></span><br><span class="line">                .termsOfServiceUrl(<span class="string">&quot;https://www.baidu.com&quot;</span>) <span class="comment">// 跳转连接</span></span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>) <span class="comment">// 版本</span></span><br><span class="line">                .license(<span class="string">&quot;Swagger-的使用(详细教程)&quot;</span>)</span><br><span class="line">                .licenseUrl(<span class="string">&quot;https://blog.csdn.net/xhmico/article/details/125353535&quot;</span>)</span><br><span class="line">                .contact(contact)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="./Spring后端学习笔记.assets/image-20250611172314317.png" alt="image-20250611172314317" style="zoom: 50%;" />

<p>如果启动报错，在 application.properties 中增加：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.mvc.pathmatch.matching-strategy</span>=<span class="string">ant_path_matcher</span></span><br></pre></td></tr></table></figure>

<p>访问 <a target="_blank" rel="noopener" href="http://localhost:8085/swagger-ui.html#">http://localhost:8085/swagger-ui.html#</a> 即可：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611171347894.png" alt="image-20250611171347894"></p>
<p>这个可以替代 Apipost，我们直接选择接口然后点击 Try it out 即可。</p>
<h2 id="MyBatis-Plus"><a href="#MyBatis-Plus" class="headerlink" title="MyBatis-Plus"></a>MyBatis-Plus</h2><img src="./Spring后端学习笔记.assets/image-20250611222437035.png" alt="image-20250611222437035" style="zoom: 33%;" />

<img src="./Spring后端学习笔记.assets/image-20250611194845785.png" alt="image-20250611194845785" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250611194956501.png" alt="image-20250611194956501" style="zoom:33%;" />

<h3 id="MySQL-安装"><a href="#MySQL-安装" class="headerlink" title="MySQL 安装"></a>MySQL 安装</h3><p>进入官网，点击 Downloads 页面，拉到底，点击 <a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/">MySQL Community (GPL) Downloads »</a></p>
<img src="./Spring后端学习笔记.assets/image-20250611204931963.png" alt="image-20250611204931963" style="zoom: 33%;" />

<p>选择下面那个就行，这俩无所谓：</p>
<img src="./Spring后端学习笔记.assets/image-20250611205815626.png" alt="image-20250611205815626" style="zoom: 33%;" />

<p>打开 msi 进行安装，设置密码为 123456，服务名称 MYSQL80，端口如下：</p>
<img src="./Spring后端学习笔记.assets/image-20250611214913181.png" alt="image-20250611214913181" style="zoom:50%;" />

<p>安装完毕后，可以在开始菜单中找到 MySQL 8.0 Command Line Client：</p>
<img src="./Spring后端学习笔记.assets/屏幕截图 2025-06-11 215802.png" style="zoom:50%;" />

<p>下面的命令展示出我们所有的 schema（或者说 database）：</p>
<img src="./Spring后端学习笔记.assets/image-20250611215244310.png" alt="image-20250611215244310" style="zoom:33%;" />

<p>现在让我们打开 MySQL Shell，有两种方法，一种是直接在开始菜单找到 MySQL Shell。</p>
<img src="./Spring后端学习笔记.assets/image-20250611215816043.png" alt="image-20250611215816043" style="zoom: 50%;" />

<p>另一种方式是在 cmd 中输入命令 <code>mysqlsh</code>：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611215653357.png" alt="image-20250611215653357"></p>
<p>在这里我们所有的命令都是以 <code>\</code> 开头的。</p>
<p>注意，由于我们之前修改了端口，因此不能够直接用 root@localhost 进行连接，不然会报错，必须使用命令 <code>\connect root@localhost:5005</code> 进行连接。连接之后提示我们 <code>type \use &lt;schema&gt; to set one</code>。</p>
<p>现在可以使用 use 语句进入某个数据库：</p>
<img src="./Spring后端学习笔记.assets/image-20250611220101776.png" alt="image-20250611220101776" style="zoom: 50%;" />

<p>我们可以切换语言（目前是 JS），在 sql 状态下就可以正常写 sql 语言了，一定不要忘记 sql 语句以分号结尾：</p>
<img src="./Spring后端学习笔记.assets/image-20250611220728976.png" alt="image-20250611220728976" style="zoom:50%;" />

<h3 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a>ORM</h3><img src="./Spring后端学习笔记.assets/image-20250611194517776.png" alt="image-20250611194517776" style="zoom:33%;" />

<h3 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h3><p>在下一章连接时候，我们的 url 是 <code>jdbc:mysql://localhost:5005/mydb</code>，这意味着我们的数据库名为 mydb，因此我们需要建一个名为 mydb 的数据库。</p>
<p>我们可以直接在 MySQL 8.0 Command Line Client 建数据库：</p>
<img src="./Spring后端学习笔记.assets/image-20250611221502664.png" alt="image-20250611221502664" style="zoom:50%;" />

<p>也可以在 MySQL Shell 中建数据库：</p>
<img src="./Spring后端学习笔记.assets/image-20250611221830311.png" alt="image-20250611221830311" style="zoom: 33%;" />

<p>接下来配置数据源并测试连接：</p>
<p>在右侧 Database 中点击加号 -&gt; Data Source -&gt; MySQL：</p>
<img src="./Spring后端学习笔记.assets/image-20250611224333688.png" alt="image-20250611224333688" style="zoom:50%;" />

<p>配置 Drivers：</p>
<img src="./Spring后端学习笔记.assets/image-20250611224158928.png" alt="image-20250611224158928" style="zoom: 33%;" />

<p>配置数据源：</p>
<img src="./Spring后端学习笔记.assets/image-20250611224231002.png" alt="image-20250611224231002" style="zoom: 33%;" />

<p>现在我们就可以写 sql 语句对数据库进行操作了：</p>
<img src="./Spring后端学习笔记.assets/image-20250611224700879.png" alt="image-20250611224700879" style="zoom:50%;" />

<p>输入如下 sql 语句并执行：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE table</span> <span class="keyword">user</span> (</span><br><span class="line">    username <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not null</span> <span class="keyword">primary key</span>,</span><br><span class="line">    password <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">not null</span>,</span><br><span class="line">    birthday <span class="type">date</span> <span class="keyword">not null</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert into</span> <span class="keyword">user</span> (username, password, birthday) <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;lucy&#x27;</span>, <span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;1980-01-01&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;haohao&#x27;</span>, <span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;1992-03-03&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>直接查看 user 表：</p>
<img src="./Spring后端学习笔记.assets/image-20250611224912670.png" alt="image-20250611224912670" style="zoom:50%;" />

<h3 id="MyBatis-Plus-配置"><a href="#MyBatis-Plus-配置" class="headerlink" title="MyBatis-Plus 配置"></a>MyBatis-Plus 配置</h3><p>依赖配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MyBatisPlus依赖 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- mysql驱动依赖 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 数据连接池 druid --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>application.properties 配置：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.type</span>=<span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:5005/mydb?useSSL=false&amp;characterEncoding=utf8</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">123456</span></span><br><span class="line"><span class="attr">mybatis-plus.configuration.log-impl</span>=<span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure>

<h3 id="Mapper-实现（MyBatis）"><a href="#Mapper-实现（MyBatis）" class="headerlink" title="Mapper 实现（MyBatis）"></a>Mapper 实现（MyBatis）</h3><p>首先加 @MapperScan 注解，用来扫描 mapper 使其生效：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;org.ren.demo.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后创建 User 实体类，实体类的字段和数据库中字段对应，<strong>Alt + Insert，可以自动生成 Getter 和 Setter</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String birthday;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBirthday</span><span class="params">(String birthday)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, birthday=&#x27;&quot;</span> + birthday + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接着在 mapper 包中，新建接口 UserMapper，注意加上 @Mapper 注解，同时 @Select 注解中写 sql 语句。注意这个接口后续不需要进行实现，后续使用的时候只需要声明即可：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">find</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在控制器中使用 mapper，这里注意，使用 UserMapper 的时候只需要声明即可，记得加上 @Autowired 注解自动注入：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.ren.demo.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;  <span class="comment">// 自动注入 UserMapper</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">query</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;User&gt; list = userMapper.find();</span><br><span class="line">        System.out.println(<span class="string">&quot;查询到的用户列表: &quot;</span> + list);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;查询用户&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在浏览器访问：<a target="_blank" rel="noopener" href="http://localhost:8085/user%EF%BC%8C%E6%8E%A7%E5%88%B6%E5%8F%B0%E6%89%93%E5%8D%B0%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%EF%BC%9A">http://localhost:8085/user，控制台打印查询结果：</a></p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250611232113045.png" alt="image-20250611232113045"></p>
<p>假如我们把控制器写成这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List <span class="title function_">query2</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;User&gt; list = userMapper.find();</span><br><span class="line">    System.out.println(<span class="string">&quot;查询到的用户列表: &quot;</span> + list);</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>将会直接返回 json：</p>
<img src="./Spring后端学习笔记.assets/image-20250611232531510.png" alt="image-20250611232531510" style="zoom: 33%;" />

<p>同时我们可以写一个用于增加的 Mapper：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert(&quot;INSERT INTO user(username, password, birthday) VALUES(#&#123;username&#125;, #&#123;password&#125;, #&#123;birthday&#125;)&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">insert</span><span class="params">(User user)</span>;  <span class="comment">// 返回受影响行数</span></span><br></pre></td></tr></table></figure>

<p>相应的后端控制器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">save</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.insert(user);</span><br><span class="line">    System.out.println(<span class="string">&quot;插入用户结果: &quot;</span> + result);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;插入用户&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>发送 POST 请求</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250612091744060.png" alt="image-20250612091744060"></p>
<p>得到结果：</p>
<img src="./Spring后端学习笔记.assets/image-20250612091807045.png" alt="image-20250612091807045" style="zoom:33%;" />

<p>如果我们的 User 类和数据库表均含有 id 字段，同时我们不想直接传入 id 字段，可以在建表时候设置 id 自增。</p>
<h3 id="Mapper-实现（MyBatis-Plus）"><a href="#Mapper-实现（MyBatis-Plus）" class="headerlink" title="Mapper 实现（MyBatis-Plus）"></a>Mapper 实现（MyBatis-Plus）</h3><p>将接口 UserMapper 继承 BaseMapper，尖括号中写类名，现在 UserMapper 里面几乎不需要再写代码，如下所示 UserMapper 直接为空。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.User;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line"><span class="comment">/*    @Select(&quot;SELECT * FROM user&quot;)</span></span><br><span class="line"><span class="comment">    public List&lt;User&gt; find();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    @Insert(&quot;INSERT INTO user(username, password, birthday) VALUES(#&#123;username&#125;, #&#123;password&#125;, #&#123;birthday&#125;)&quot;)</span></span><br><span class="line"><span class="comment">    public int insert(User user);  // 返回受影响行数*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意，如果<strong>表名和类名不一样</strong>，可以写一个注解 <code>@TableName(&quot;&quot;)</code> 在<strong>实体</strong>类中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableName(&quot;user&quot;)</span> <span class="comment">// 指定数据库表名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String birthday;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>MyBatis-Plus 还包含了很多其他的<a target="_blank" rel="noopener" href="https://baomidou.com/reference/annotation/">注解</a>，比如 <code>@TableId</code> 用于标记实体类中的主键字段（可以设置自增等策略，这样 MyBatis-Plus 会直接把你传过来的 User 对象中补全 id，而不是由数据库做这件事），<code>@TableField</code> 用于映射到数据库字段。MyBatis-Plus 官网有详细的文档。示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;sys_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@TableField(&quot;nickname&quot;)</span> <span class="comment">// 映射到数据库字段 &quot;nickname&quot;</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查询直接在控制器中完成：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List <span class="title function_">query2</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;User&gt; list = userMapper.selectList(<span class="literal">null</span>);  <span class="comment">// 查询所有用户，null为条件</span></span><br><span class="line">    System.out.println(<span class="string">&quot;查询到的用户列表: &quot;</span> + list);</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">save</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> userMapper.insert(user);</span><br><span class="line">    System.out.println(<span class="string">&quot;插入用户结果: &quot;</span> + result);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;插入用户&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>发送 POST 请求：</p>
<img src="./Spring后端学习笔记.assets/屏幕截图 2025-06-12 092717.png" alt="屏幕截图 2025-06-12 092717" style="zoom: 33%;" />

<p>查询请求：</p>
<img src="./Spring后端学习笔记.assets/屏幕截图 2025-06-12 092710.png" style="zoom: 33%;" />

<p>控制台输出：</p>
<img src="./Spring后端学习笔记.assets/屏幕截图 2025-06-12 092728.png" alt="屏幕截图 2025-06-12 092728" style="zoom: 33%;" />

<h3 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h3><p>需要注意一件事，MyBatis-Plus 对多表查询无能为力。</p>
<p>如何知道自己现在在不在使用 MyBatis-Plus 呢，其实可以看控制器里调用 Mapper 的方法，看看这些方法是不是 MyBatis-Plus 的，如果是 MyBatis-Plus 的，Mapper 里面应该没有这个方法，因为他直接继承了 BaseMapper，用的是 BaseMapper 的方法，我们可以 Ctrl + 左键查看 BaseMapper 的方法有哪些。</p>
<p>如果控制器直接调用如 <code>insert()</code> 方法（这个可以在 BaseMapper 中找到）而不是我们自己在 Mapper 里面实现的，那他就是在使用 MyBatis-Plus 。如果控制器使用的方法是在 Mapper 中我们自己实现的，那就是用的 MyBatis，使用 MyBatis 的时候，和 <code>@TableName(&quot;sys_user&quot;)</code> 之类的注解就没关系了。</p>
<img src="./Spring后端学习笔记.assets/image-20250612094935147.png" alt="image-20250612094935147" style="zoom: 33%;" />

<p>现在有这样两张表：</p>
<img src="./Spring后端学习笔记.assets/image-20250612095746746.png" alt="image-20250612095746746" style="zoom:50%;" />

<img src="./Spring后端学习笔记.assets/屏幕截图 2025-06-12 095732.png" style="zoom:50%;" />

<p>根据表创建两个实体类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableName(&quot;t_user&quot;)</span> <span class="comment">// 指定数据库表名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserT</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(type = IdType.AUTO)</span> <span class="comment">// 自动生成ID</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String birthday;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 描述用户订单，并注明 order 字段在数据库 t_user 中其实不存在</span></span><br><span class="line">    <span class="meta">@TableField(exist = false)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Order&gt; orders;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBirthday</span><span class="params">(String birthday)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;userT&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, birthday=&#x27;&quot;</span> + birthday + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String orderTime;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> total;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> uid;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getOrderTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> orderTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOrderTime</span><span class="params">(String orderTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.orderTime = orderTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getTotal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTotal</span><span class="params">(<span class="type">double</span> total)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.total = total;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getUid</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUid</span><span class="params">(<span class="type">int</span> uid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.uid = uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Order&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, orderTime=&#x27;&quot;</span> + orderTime + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, total=&quot;</span> + total +</span><br><span class="line">                <span class="string">&quot;, uid=&quot;</span> + uid +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>重点！！！</strong></p>
<p>UserTMapper 类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.*;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.UserT;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserTMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;UserT&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM t_user WHERE id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    UserT <span class="title function_">selectById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM t_user&quot;)</span>  <span class="comment">// 查询所有用户</span></span><br><span class="line">    <span class="meta">@Results(</span></span><br><span class="line"><span class="meta">            &#123;</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;, property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;username&quot;, property = &quot;username&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;password&quot;, property = &quot;password&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;birthday&quot;, property = &quot;birthday&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;, property = &quot;orders&quot;, javaType = List.class,</span></span><br><span class="line"><span class="meta">                            many = @Many(select = &quot;org.ren.demo.mapper.OrderMapper.selectByUserId&quot;))</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    List&lt;UserT&gt; <span class="title function_">selectAllUserAndOrders</span><span class="params">()</span>;  <span class="comment">// 查询所有用户及其订单信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>@Results</code> 用来做结果集的映射，即我从数据库里查出来的东西，应该怎么给对象赋值。</p>
<p>我们知道 UserT 类中存在字段 <code>private List&lt;Order&gt; orders</code>，重点就在于如何给这个字段赋值。</p>
<p><code>@Results</code> 的里面可以传入多个 <code>@Result</code>，小括号括花括号。</p>
<p>每个 <code>@Result</code> 都是一个参数，column 是数据库查出来的列名，property 是 UserT 的属性，如 <code>@Result(column = &quot;id&quot;, property = &quot;id&quot;)</code> 的含义是：数据库中查出来的 id 列，赋值给 UserT 的 id 属性。</p>
<p>解释一下这句话：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Result(column = &quot;id&quot;, property = &quot;orders&quot;, javaType = List.class,</span></span><br><span class="line"><span class="meta">                            many = @Many(select = &quot;org.ren.demo.mapper.OrderMapper.selectByUserId&quot;))</span></span><br></pre></td></tr></table></figure>

<p><code>javaType = List.class</code> 指的是 orders 的类型是 List。接下来我们需要通过 id 查询订单。</p>
<p>因此还需要一个 OrderMapper 实现根据用户ID查询订单：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.Order;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Order&gt; &#123;</span><br><span class="line">    <span class="comment">// 根据用户ID查询订单</span></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM t_order WHERE uid = #&#123;uid&#125;&quot;)</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">selectByUserId</span><span class="params">(<span class="type">int</span> uid)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <code>many = @Many(select = &quot;org.ren.demo.mapper.OrderMapper.selectByUserId&quot;))</code> 这句话是在 UserTMapper 中调用 OrderMapper 中的方法，<code>column = &quot;id&quot;</code> 作为参数传递给了 <code>selectByUserId</code> 方法，得到所有的订单放在 <code>property = &quot;orders&quot;</code> 也即 UserT 类中的 orders 字段。</p>
<p>完整 Mapper 代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.*;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.UserT;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserTMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;UserT&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM t_user WHERE id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    UserT <span class="title function_">selectById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM t_user&quot;)</span>  <span class="comment">// 查询所有用户</span></span><br><span class="line">    <span class="meta">@Results(</span></span><br><span class="line"><span class="meta">            &#123;</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;, property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;username&quot;, property = &quot;username&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;password&quot;, property = &quot;password&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;birthday&quot;, property = &quot;birthday&quot;),</span></span><br><span class="line"><span class="meta">                    @Result(column = &quot;id&quot;, property = &quot;orders&quot;, javaType = List.class,</span></span><br><span class="line"><span class="meta">                            many = @Many(select = &quot;org.ren.demo.mapper.OrderMapper.selectByUserId&quot;))</span></span><br><span class="line"><span class="meta">            &#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    List&lt;UserT&gt; <span class="title function_">selectAllUserAndOrders</span><span class="params">()</span>;  <span class="comment">// 查询所有用户及其订单信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.Order;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Order&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根据用户ID查询订单</span></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM t_order WHERE uid = #&#123;uid&#125;&quot;)</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">selectByUserId</span><span class="params">(<span class="type">int</span> uid)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>加上控制器代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/findAll&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;UserT&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;UserT&gt; users = userTMapper.selectAllUserAndOrders();  <span class="comment">// 查询所有用户</span></span><br><span class="line">    System.out.println(<span class="string">&quot;查询到的用户列表: &quot;</span> + users);</span><br><span class="line">    <span class="keyword">return</span> users;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查询结果：</p>
<img src="./Spring后端学习笔记.assets/image-20250612110102512.png" alt="image-20250612110102512" style="zoom:33%;" />

<p>多表查询的另外方法：<a target="_blank" rel="noopener" href="https://mybatis-plus-join.github.io/pages/quickstart/quickstart.html">MyBatis-Plus-Join</a>。</p>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><p>方法一：MyBatis 方法，直接在 Select 语句写 Where 条件。</p>
<p>方法二：MyBatis-Plus 方法，直接在控制器中写 <strong>QueryWrapper</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/find1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;UserT&gt; <span class="title function_">find1</span><span class="params">()</span> &#123;</span><br><span class="line">    QueryWrapper&lt;UserT&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.eq(<span class="string">&quot;username&quot;</span>, <span class="string">&quot;Alice&quot;</span>);  <span class="comment">// 根据ID查询用户</span></span><br><span class="line">    <span class="keyword">return</span> userTMapper.selectList(queryWrapper);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>查询结果：</p>
<img src="./Spring后端学习笔记.assets/image-20250612111056121.png" alt="image-20250612111056121" style="zoom:33%;" />

<p>一定注意，在用这种方法时别忘记这个注解：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableField(exist = false)</span></span><br><span class="line"><span class="keyword">private</span> List&lt;Order&gt; orders;</span><br></pre></td></tr></table></figure>

<h3 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h3><p>新建配置类，也即分页的拦截器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisPlusConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">paginationInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="type">PaginationInnerInterceptor</span> <span class="variable">paginationInnerInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL);</span><br><span class="line">        interceptor.addInnerInterceptor(paginationInnerInterceptor);</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>控制器这样写：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/find2&quot;)</span></span><br><span class="line"><span class="keyword">public</span> IPage <span class="title function_">find2</span><span class="params">()</span>&#123;</span><br><span class="line">    Page&lt;UserT&gt; page = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 创建分页对象，页码为1，每页1条记录</span></span><br><span class="line">    <span class="keyword">return</span> userTMapper.selectPage(page, <span class="literal">null</span>); <span class="comment">// 查询所有用户并分页</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回的是 <strong>IPage</strong>，而不是 UserT：</p>
<img src="./Spring后端学习笔记.assets/image-20250612113528484.png" alt="image-20250612113528484" style="zoom:33%;" />

<h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><p>前端框架：Vue，React 等，这里我们学习 Vue。</p>
<p>MVVM 设计模式：</p>
<img src="./Spring后端学习笔记.assets/image-20250612141018240.png" alt="image-20250612141018240" style="zoom: 25%;" />

<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><p><em>注：为了方便代码和界面对照，我们将代码与渲染出的界面截在一张图中，而不采用 markdown 代码块的形式展示。</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 导入 --&gt;</span><br><span class="line">    &lt;script src=&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 声明要被 vue 控制的 DOM 区域 --&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 创建 vue 的实例对象 --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.createApp(&#123;</span><br><span class="line">        // 数据源，即 MVVM 模式中的 Model</span><br><span class="line">        data() &#123;</span><br><span class="line">            const message = &#x27;Hello vue&#x27;</span><br><span class="line">            return &#123;</span><br><span class="line">                message</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<hr>
<p><em>小插曲：我做到这里时候 IDEA 的 Github Copilot 突然不能用了，解决方案是把网络改为 native，并清空 IDE 缓存：</em></p>
<img src="./Spring后端学习笔记.assets/image-20250612145825765.png" alt="image-20250612145825765" style="zoom:25%;" />

<hr>
<p>让我们继续：</p>
<img src="./Spring后端学习笔记.assets/image-20250612150201004.png" alt="image-20250612150201004" style="zoom:33%;" />

<p>我们观察上面的代码与渲染结果，我们发现第三行是纯文本，第四行是超链接。</p>
<p>在 Vue 框架中，<code>v-html</code> 是一个指令，用于<strong>将数据作为 HTML 插入到元素中</strong>。当使用 v-html 绑定数据时，Vue 会将数据解析为 HTML 并将其渲染到 DOM 中，而不是像普通插值语法 <code>&#123;&#123;&#125;&#125;</code> 那样作为纯文本处理。</p>
<hr>
<img src="./Spring后端学习笔记.assets/image-20250612150950469.png" alt="image-20250612150950469" style="zoom:33%;" />

<p>上图我们看到，属性 href，placeholder，src，style 前面都有冒号，这就是用来<strong>绑定属性</strong>的。</p>
<hr>
<img src="./Spring后端学习笔记.assets/image-20250612151956951.png" alt="image-20250612151956951" style="zoom:33%;" />

<p>上图中我们使用了一些基本 JS 表达式。</p>
<hr>
<img src="./Spring后端学习笔记.assets/image-20250612152410757.png" alt="image-20250612152410757" style="zoom:33%;" />

<p>上图是简单的<strong>事件绑定</strong>（比如点按钮做出操作），Vue 中数据变化页面会自己刷新，因此 count 会随着我们按下按钮变化而我们无需刷新。</p>
<p>原生 JS 事件监听用 onclick，Vue 中使用 v-on，v-on 可以简写为 @。</p>
<p>注意我们的 vm 对象中现在存在 data 和 methods，前者数据，后者方法。</p>
<hr>
<img src="./Spring后端学习笔记.assets/image-20250612153400175.png" alt="image-20250612153400175" style="zoom:33%;" />

<p>上图展示了<strong>条件渲染</strong>。v-if 如果为 false，该标签根本不会被创建；v-show 如果为 false，该标签会被创建，但是通过 css 将其隐藏。v-show 性能更高。v-if 还可以配合 v-else 使用。</p>
<hr>
<img src="./Spring后端学习笔记.assets/image-20250612153947215.png" alt="image-20250612153947215" style="zoom:33%;" />

<p>上图为<strong>列表渲染</strong>。使用 v-for 进行渲染。</p>
<h4 id="基本用法总结"><a href="#基本用法总结" class="headerlink" title="基本用法总结"></a>基本用法总结</h4><p><strong>基本使用</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 导入 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 声明要被 vue 控制的 DOM 区域 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 创建 vue 的实例对象 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 数据源，即 MVVM 模式中的 Model</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> message = <span class="string">&#x27;Hello vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                message</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>HTML 内容渲染指令</strong> ：<code>v-html</code>。用于渲染 HTML 页面元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>姓名：&#123;&#123;username&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>性别：&#123;&#123;gender&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;desc&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">&quot;desc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">username</span>: <span class="string">&#x27;zhangsan&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">gender</span>: <span class="string">&#x27;男&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">desc</span>: <span class="string">&#x27;&lt;a href=&quot;http://www.baidu.com&quot;&gt;百度&lt;/a&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(vm)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>属性绑定指令</strong>：<code>:</code>。用于修改元素的属性</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;link&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:placeholder</span>=<span class="string">&quot;inputValue&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgSrc&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;width: w&#125;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">link</span>: <span class="string">&quot;http://www.baidu.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">inputValue</span>: <span class="string">&#x27;请输入内容&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">imgSrc</span>: <span class="string">&#x27;./images/demo.jpg&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">w</span>: <span class="string">&#x27;500px&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(vm)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>JS 表达式</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- vue 实例要控制的 DOM 区域 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;number + 1&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;ok ? &#x27;True&#x27; : &#x27;False&#x27;&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">:id</span>=<span class="string">&quot;&#x27;list-&#x27; + id&quot;</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;user.name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">number</span>: <span class="number">9</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">ok</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">message</span>: <span class="string">&#x27;ABC&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">id</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">user</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(vm)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>事件绑定指令</strong>：<code>v-on</code>。取代原生 JS 的 onclick</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>count 的值为: &#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;addCount&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;count-=1&quot;</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">count</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 点击按钮，让 count 自增 +1</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">addCount</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">count</span> += <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(vm)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>条件渲染指令</strong>：<code>v-if</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;flag = !flag&quot;</span>&gt;</span>Toggle Flag<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>请求成功 --- 被 v-if 控制<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;flag&quot;</span>&gt;</span>请求成功 --- 被 v-show 控制<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">flag</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(vm)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>列表渲染指令</strong>：<code>v-for</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(user, i) in userList&quot;</span>&gt;</span>索引是：&#123;&#123;i&#125;&#125;，姓名是：&#123;&#123;user.name&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">userList</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;zhangsan&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;lisi&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;wangwu&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(vm)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="v-for-的-key"><a href="#v-for-的-key" class="headerlink" title="v-for 的 key"></a>v-for 的 key</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 添加用户的区域 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addNewUser&quot;</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 用户列表区域 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(user, index) in userList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;user.id&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> /&gt;</span></span><br><span class="line">            姓名：&#123;&#123; user.name &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 用户列表</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">userList</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;zhangsan&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;lisi&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 输入的用户名</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 下一个可用的 id 值</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">nextId</span>: <span class="number">3</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 点击了添加按钮</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">addNewUser</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">userList</span>.<span class="title function_">unshift</span>(&#123; <span class="attr">id</span>: <span class="variable language_">this</span>.<span class="property">nextId</span>, <span class="attr">name</span>: <span class="variable language_">this</span>.<span class="property">name</span> &#125;)</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">nextId</span>++</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(vm)</span></span><br><span class="line"><span class="language-javascript">    app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>v-model=&quot;name&quot;</code> 双向绑定，name 变化，页面会跟着变化；如果页面发生变化，也会影响 name 的值。</p>
<p><code>unshift</code> 是往数组的起始位置加元素，这里我们写进去一个新的对象，id 为 nextId。</p>
<p><strong>重点</strong>：<code>&lt;li v-for=&quot;(user, index) in userList&quot; :key=&quot;user.id&quot;&gt;</code> 这里我们给每一个 <code>&lt;li&gt;</code> 添加一个 <code>:key=&quot;user.id&quot;</code>，这样每个列表和用户的 id 匹配，而不是和列表的第几项匹配。</p>
<h3 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h3><p>类似于 Maven。下载 Node.js 安装即可在命令行使用。</p>
<img src="./Spring后端学习笔记.assets/image-20250612204715722.png" alt="image-20250612204715722" style="zoom:33%;" />

<h3 id="Vue-CLI"><a href="#Vue-CLI" class="headerlink" title="Vue CLI"></a>Vue CLI</h3><img src="./Spring后端学习笔记.assets/image-20250612204832880.png" alt="image-20250612204832880" style="zoom:33%;" />

<p>安装截图如下：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250612210308308.png" alt="image-20250612210308308"></p>
<p>命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean --force</span><br><span class="line">npm config set strict-ssl false</span><br><span class="line">npm config set registry http://registry.npm.taobao.org</span><br><span class="line">npm install -g @vue/cli --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>环境变量中用户变量增加：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\30516\AppData\Roaming\npm</span><br></pre></td></tr></table></figure>

<p>之后即可在项目目录下执行，创建名为 hello 的项目：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create hello</span><br></pre></td></tr></table></figure>

<p>这里选择最后一项：</p>
<img src="./Spring后端学习笔记.assets/image-20250612211727802.png" alt="image-20250612211727802" style="zoom:50%;" />

<img src="./Spring后端学习笔记.assets/image-20250612211804362.png" alt="image-20250612211804362" style="zoom:33%;" />

<p>余下配置如下所示，这里的 <code>package.json</code> 可以类比之前的 <code>pom.xml</code>：</p>
<img src="./Spring后端学习笔记.assets/image-20250612212023046.png" alt="image-20250612212023046" style="zoom:33%;" />

<p>回车即可开始创建项目，结果如下，项目目录下出现一个 hello 的文件夹：</p>
<img src="./Spring后端学习笔记.assets/image-20250612212304176.png" alt="image-20250612212304176" style="zoom: 33%;" />

<img src="./Spring后端学习笔记.assets/image-20250612212531507.png" alt="image-20250612212531507" style="zoom: 50%;" />

<p>现在我们可以在 hello 目录下运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure>

<p>访问：<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a> 即可进入前端界面。</p>
<p>注意，我们很多通过 npm install 下载的东西都存在 node_modules 目录中，这个目录很大，一般情况下在 Github 下载下来的项目中不会有 node_modules。但只要有 package.json，我们直接在项目目录输入指令 <code>npm install</code> 即可，他会自己读 package.json 并下载相关依赖。</p>
<h3 id="Vue-组件化"><a href="#Vue-组件化" class="headerlink" title="Vue 组件化"></a>Vue 组件化</h3><img src="./Spring后端学习笔记.assets/image-20250612213817588.png" alt="image-20250612213817588" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250612213920098.png" alt="image-20250612213920098" style="zoom:33%;" />

<p><code>App.vue</code> 是我们的根组件。现在我们要自己创建一个 vue component。在 src&#x2F;components 目录下新建一个 vue 文件叫做 Hello.vue：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;h1&gt;HellOOOO&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>这是一个非常简单的组件，只有一个一级标题。现在我们要使用这个组件，需要在 App.vue 进行<strong>导入</strong>和<strong>注册</strong>，具体需要在 script 标签中，进行 import，同时在 components 中加上我们的组件名称。然后我们就可以在 template 标签中进行使用了。下面的代码我们使用了两次 Hello：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">  &lt;Hello&gt;&lt;/Hello&gt;</span><br><span class="line">  &lt;Hello&gt;&lt;/Hello&gt;</span><br><span class="line">  &lt;HelloWorld msg=&quot;Welcome to Vue.js App&quot;/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line">import Hello from &#x27;./components/Hello.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld,</span><br><span class="line">    Hello</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<img src="./Spring后端学习笔记.assets/image-20250612215748079.png" alt="image-20250612215748079" style="zoom:50%;" />

<h3 id="组件重用与传递数据"><a href="#组件重用与传递数据" class="headerlink" title="组件重用与传递数据"></a>组件重用与传递数据</h3><p>我们现在想让组件重用，比如我们现在创建一个 Movie 组件，这个组件可以显示标题。使用 <code>props: [&quot;title&quot;]</code> 可以从外部传数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;movie&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Movie&#x27;,</span><br><span class="line">  props: [&quot;title&quot;],</span><br><span class="line">  data:function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在 App.vue 中我们就可以使用属性传入数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--    &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">    &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;--&gt;</span><br><span class="line">    &lt;Movie title=&quot;Inception&quot;&gt;&lt;/Movie&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>现在这个组件就是一个通用的组件。</p>
<p>下面进一步重用该组件，先修改下 Movie 让其内容更多：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;movie&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123;rating&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;button @click=&quot;fun&quot;&gt;收藏&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Movie&#x27;,</span><br><span class="line">  props: [&quot;title&quot;, &quot;rating&quot;],</span><br><span class="line">  data:function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    fun() &#123;</span><br><span class="line">      alert(&quot;收藏成功&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>然后修改 App.vue，让 App.vue 引用 Movie 组件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--    &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;</span><br><span class="line">    &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;--&gt;</span><br><span class="line">    &lt;Movie v-for=&quot;movie in movies&quot; :key=&quot;movie.id&quot; :title=&quot;movie.title&quot; :rating=&quot;movie.rating&quot;&gt;&lt;/Movie&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line">import Movie from &#x27;./components/Movie.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data:function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      movies: [</span><br><span class="line">        &#123; id:1, title: &quot;Inception&quot;, rating: &quot;5.0&quot; &#125;,</span><br><span class="line">        &#123; id:2, title: &quot;The Matrix&quot;, rating: &quot;4.8&quot; &#125;,</span><br><span class="line">        &#123; id:3, title: &quot;Interstellar&quot;, rating: &quot;4.9&quot; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld,</span><br><span class="line">    Movie</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>这里我们在 App.vue 的 data 中模拟后端传过来的数据，并通过 <code>v-for</code> 与 <code>:key</code> 列表渲染，注意后面的字段前面要加上冒号，冒号来绑定属性。</p>
<p>注意 props 只能用于父子组件，兄弟组件之间共享数据 props 无能为力。比如下面这种就是兄弟组件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;Movie v-for=&quot;movie in movies&quot; :key=&quot;movie.id&quot; :title=&quot;movie.title&quot; :rating=&quot;movie.rating&quot;&gt;&lt;/Movie&gt;</span><br><span class="line">    &lt;Hello&gt;&lt;/Hello&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>总结一下组件的数据传递：</p>
<img src="./Spring后端学习笔记.assets/image-20250613090127497.png" alt="image-20250613090127497" style="zoom: 33%;" />

<h3 id="使用第三方组件"><a href="#使用第三方组件" class="headerlink" title="使用第三方组件"></a>使用第三方组件</h3><p>因为 <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/installation">element-ui</a> 只支持 vue2，我们先创建一个新的 vue2 项目。</p>
<p>下载：<code>npm i element-ui -S</code></p>
<p>在 main.js 做如下修改，需要注意我们之前的组件注册都是局部注册，而这个（<code>Vue.use(ElementUI);</code>）是全局注册，这样哪个组件都能用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>假如我们现在想做一个表格，我们可以直接在 element-ui 网站中“组件”一栏进行寻找：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613100203279.png" alt="image-20250613100203279"></p>
<p>然后按需要把源码复制到我们的项目中，比如我们创建一个 Hello 组件，在 Hello 组件中使用这个表格：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-table</span><br><span class="line">      :data=&quot;tableData&quot;</span><br><span class="line">      style=&quot;width: 100%&quot;</span><br><span class="line">      :row-class-name=&quot;tableRowClassName&quot;&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">        prop=&quot;date&quot;</span><br><span class="line">        label=&quot;日期&quot;</span><br><span class="line">        width=&quot;180&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">        prop=&quot;name&quot;</span><br><span class="line">        label=&quot;姓名&quot;</span><br><span class="line">        width=&quot;180&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">    &lt;el-table-column</span><br><span class="line">        prop=&quot;address&quot;</span><br><span class="line">        label=&quot;地址&quot;&gt;</span><br><span class="line">    &lt;/el-table-column&gt;</span><br><span class="line">  &lt;/el-table&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Hello&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: [</span><br><span class="line">        &#123; date: &#x27;2016-05-03&#x27;, name: &#x27;王小明&#x27;, address: &#x27;上海市普陀区金沙江路 1518 弄&#x27; &#125;,</span><br><span class="line">        &#123; date: &#x27;2016-05-02&#x27;, name: &#x27;张三&#x27;, address: &#x27;上海市普陀区金沙江路 1517 弄&#x27; &#125;,</span><br><span class="line">        &#123; date: &#x27;2016-05-04&#x27;, name: &#x27;李四&#x27;, address: &#x27;上海市普陀区金沙江路 1519 弄&#x27; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    tableRowClassName(&#123;row, rowIndex&#125;) &#123;</span><br><span class="line">      if (rowIndex === 0) &#123;</span><br><span class="line">        return &#x27;warning-row&#x27;;</span><br><span class="line">      &#125; else if (rowIndex === 1) &#123;</span><br><span class="line">        return &#x27;success-row&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line">      return &#x27;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.el-table .warning-row &#123;</span><br><span class="line">  background: oldlace;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-table .success-row &#123;</span><br><span class="line">  background: #f0f9eb;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p><code>el-table</code> 是 element-ui 自己做的组件，我们可以在这里直接用，各种属性（如 row-class-name）可以在官网查询其含义。</p>
<p>注意 vue2 中只能有一个根标签，如果我们想在一个组件中，使用多个组件，可以用 div 括起来，像这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">        :data=&quot;tableData&quot;</span><br><span class="line">        style=&quot;width: 100%&quot;</span><br><span class="line">        :row-class-name=&quot;tableRowClassName&quot;&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">          prop=&quot;date&quot;</span><br><span class="line">          label=&quot;日期&quot;</span><br><span class="line">          width=&quot;180&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">          prop=&quot;name&quot;</span><br><span class="line">          label=&quot;姓名&quot;</span><br><span class="line">          width=&quot;180&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">          prop=&quot;address&quot;</span><br><span class="line">          label=&quot;地址&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;el-date-picker</span><br><span class="line">        v-model=&quot;value1&quot;</span><br><span class="line">        type=&quot;datetime&quot;</span><br><span class="line">        placeholder=&quot;选择日期时间&quot;&gt;</span><br><span class="line">    &lt;/el-date-picker&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Hello&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: [</span><br><span class="line">        &#123; date: &#x27;2016-05-03&#x27;, name: &#x27;王小明&#x27;, address: &#x27;上海市普陀区金沙江路 1518 弄&#x27; &#125;,</span><br><span class="line">        &#123; date: &#x27;2016-05-02&#x27;, name: &#x27;张三&#x27;, address: &#x27;上海市普陀区金沙江路 1517 弄&#x27; &#125;,</span><br><span class="line">        &#123; date: &#x27;2016-05-04&#x27;, name: &#x27;李四&#x27;, address: &#x27;上海市普陀区金沙江路 1519 弄&#x27; &#125;</span><br><span class="line">      ],</span><br><span class="line">      value1: &#x27;&#x27;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    tableRowClassName(&#123;row, rowIndex&#125;) &#123;</span><br><span class="line">      if (rowIndex === 0) &#123;</span><br><span class="line">        return &#x27;warning-row&#x27;;</span><br><span class="line">      &#125; else if (rowIndex === 1) &#123;</span><br><span class="line">        return &#x27;success-row&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line">      return &#x27;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.el-table .warning-row &#123;</span><br><span class="line">  background: oldlace;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-table .success-row &#123;</span><br><span class="line">  background: #f0f9eb;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>现在的 App.vue：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;Movie v-for=&quot;movie in movies&quot; :key=&quot;movie.id&quot; :title=&quot;movie.title&quot; :rating=&quot;movie.rating&quot;&gt;&lt;/Movie&gt;</span><br><span class="line">    &lt;Hello&gt;&lt;/Hello&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line">import Movie from &#x27;./components/Movie.vue&#x27;</span><br><span class="line">import Hello from &#x27;./components/Hello.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data:function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      movies: [</span><br><span class="line">        &#123; id:1, title: &quot;Inception&quot;, rating: &quot;5.0&quot; &#125;,</span><br><span class="line">        &#123; id:2, title: &quot;The Matrix&quot;, rating: &quot;4.8&quot; &#125;,</span><br><span class="line">        &#123; id:3, title: &quot;Interstellar&quot;, rating: &quot;4.9&quot; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld,</span><br><span class="line">    Movie,</span><br><span class="line">    Hello</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>现在的效果：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613101756969.png" alt="image-20250613101756969"></p>
<h3 id="Vue-生命周期函数"><a href="#Vue-生命周期函数" class="headerlink" title="Vue 生命周期函数"></a>Vue 生命周期函数</h3><p>什么是生命周期：从Vue实例创建、运行、到销毁期间，总是伴随着各种各样的事件，这些事件，统称为生命周期。</p>
<img src="./Spring后端学习笔记.assets/612c1f040ee4fc4331cafa1df04a02bd.png" alt="在这里插入图片描述" style="zoom: 50%;" />

<p>生命周期函数举例，我们在 App 和 Movie 组件中添加生命周期函数 <code>created</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import Movie from &#x27;./components/Movie.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data:function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: function() &#123;</span><br><span class="line">    console.log(&quot;App created&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HelloWorld,</span><br><span class="line">    Movie,</span><br><span class="line">    Hello</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Movie&#x27;,</span><br><span class="line">  props: [&quot;title&quot;, &quot;rating&quot;],</span><br><span class="line">  data:function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: function() &#123;</span><br><span class="line">    console.log(&quot;Movie created&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    fun() &#123;</span><br><span class="line">      alert(&quot;收藏成功&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>鼠标右键，点击检查，在右侧 console 中可以看到消息：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613105218658.png" alt="image-20250613105218658"></p>
<h2 id="Axios-网络请求"><a href="#Axios-网络请求" class="headerlink" title="Axios 网络请求"></a>Axios 网络请求</h2><img src="./Spring后端学习笔记.assets/image-20250613102429825.png" alt="image-20250613102429825" style="zoom:33%;" />

<p>一般项目中都是前端发送 HTTP 请求，拿到对应的数据，再进行渲染。浏览器是主动方，服务器被动接收请求，浏览器拿到数据之后再通过 vue 进行数据绑定。</p>
<p>安装：<code>npm install axios</code></p>
<p>官网：<a target="_blank" rel="noopener" href="https://axios-http.com/docs/intro">https://axios-http.com/docs/intro</a></p>
<p>引用（main.js）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$axios</span> = axios</span><br></pre></td></tr></table></figure>

<p>组件中使用 <code>this.$axios</code> 访问</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  created: function() &#123;</span><br><span class="line">    this.$axios.get(&quot;/user/findAll&quot;).then(function(response) &#123;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>方法2：在组件中导入 axios</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;  // 导入 axios</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>由于我们要实现前后端连接，先测试一下后端还能不能正常工作，这里测试一下之前的 <a target="_blank" rel="noopener" href="http://localhost:8085/user/findAll%EF%BC%9A">http://localhost:8085/user/findAll：</a></p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613131043897.png" alt="image-20250613131043897"></p>
<p>Axios 请求语法参考：</p>
<img src="./Spring后端学习笔记.assets/image-20250613133555420.png" alt="image-20250613133555420" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250613133625400.png" alt="image-20250613133625400" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250613133352589.png" alt="image-20250613133352589" style="zoom:33%;" />

<p>现在让我们写前端代码，在 App.vue 中写 created 函数，在这里发出 &#x2F;user&#x2F;findAll GET 请求：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data:function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: function() &#123;</span><br><span class="line">    this.$axios.get(&quot;http://localhost:8085/user/findAll&quot;).then(function(response) &#123;</span><br><span class="line">      console.log(response)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>访问前端界面，发现出错（右键检查，Console）：</p>
<img src="./Spring后端学习笔记.assets/屏幕截图 2025-06-13 132532.png" style="zoom:50%;" />

<p>被 CORS 策略阻止！！！</p>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><img src="./Spring后端学习笔记.assets/image-20250613132854473.png" alt="image-20250613132854473" style="zoom: 33%;" />

<img src="./Spring后端学习笔记.assets/image-20250613133755442.png" alt="image-20250613133755442" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250613133821248.png" alt="image-20250613133821248" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250613133840409.png" alt="image-20250613133840409" style="zoom:33%;" />

<p>上图中：后端 8080，前端 8081。</p>
<img src="./Spring后端学习笔记.assets/image-20250613133936073.png" alt="image-20250613133936073" style="zoom:33%;" />

<img src="./Spring后端学习笔记.assets/image-20250613134016984.png" alt="image-20250613134016984" style="zoom:33%;" />

<h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>方法一：</p>
<img src="./Spring后端学习笔记.assets/image-20250613134620667.png" alt="image-20250613134620667" style="zoom:33%;" />

<p>方法二：直接在控制器上加注解 <code>@CrossOrigin</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@CrossOrigin</span> <span class="comment">// 允许跨域请求</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span></span><br></pre></td></tr></table></figure>

<p>重启 Spring 服务之后进入前端，发现获取到了数据：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613135017592.png" alt="image-20250613135017592"></p>
<p>我们可以在 Network 中查看 findAll 的 Headers，发现 Access-Control-Allow-Origin 是 <code>*</code>：</p>
<img src="./Spring后端学习笔记.assets/image-20250613135222381.png" alt="image-20250613135222381" style="zoom:33%;" />

<h3 id="渲染后端数据"><a href="#渲染后端数据" class="headerlink" title="渲染后端数据"></a>渲染后端数据</h3><p>后端控制器，注意 <code>@CrossOrigin</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.ren.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.UserT;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.mapper.UserTMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.CrossOrigin;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.ren.demo.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@CrossOrigin</span> <span class="comment">// 允许跨域请求</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;  <span class="comment">// 自动注入 UserMapper</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserTMapper userTMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/user/findAll&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;UserT&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;UserT&gt; users = userTMapper.selectAllUserAndOrders();  <span class="comment">// 查询所有用户</span></span><br><span class="line">        System.out.println(<span class="string">&quot;查询到的用户列表: &quot;</span> + users);</span><br><span class="line">        <span class="keyword">return</span> users;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>前端组件 Hello.vue：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">        :data=&quot;tableData&quot;</span><br><span class="line">        style=&quot;width: 100%&quot;</span><br><span class="line">        :row-class-name=&quot;tableRowClassName&quot;&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">          prop=&quot;id&quot;</span><br><span class="line">          label=&quot;编号&quot;</span><br><span class="line">          width=&quot;180&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">          prop=&quot;username&quot;</span><br><span class="line">          label=&quot;姓名&quot;</span><br><span class="line">          width=&quot;180&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">          prop=&quot;birthday&quot;</span><br><span class="line">          label=&quot;生日&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;el-date-picker</span><br><span class="line">        v-model=&quot;value1&quot;</span><br><span class="line">        type=&quot;datetime&quot;</span><br><span class="line">        placeholder=&quot;选择日期时间&quot;&gt;</span><br><span class="line">    &lt;/el-date-picker&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Hello&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: [],</span><br><span class="line">      value1: &#x27;&#x27;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: function() &#123;</span><br><span class="line">    this.$axios.get(&quot;http://localhost:8085/user/findAll&quot;).then((response)=&gt;&#123;</span><br><span class="line">      this.tableData = response.data</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    tableRowClassName(&#123;row, rowIndex&#125;) &#123;</span><br><span class="line">      if (rowIndex === 0) &#123;</span><br><span class="line">        return &#x27;warning-row&#x27;;</span><br><span class="line">      &#125; else if (rowIndex === 1) &#123;</span><br><span class="line">        return &#x27;success-row&#x27;;</span><br><span class="line">      &#125;</span><br><span class="line">      return &#x27;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.el-table .warning-row &#123;</span><br><span class="line">  background: oldlace;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.el-table .success-row &#123;</span><br><span class="line">  background: #f0f9eb;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>界面展示：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613135942656.png" alt="image-20250613135942656"></p>
<p>核心部分：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Hello&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: []</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: function() &#123;</span><br><span class="line">    this.$axios.get(&quot;http://localhost:8085/user/findAll&quot;).then((response)=&gt;&#123;</span><br><span class="line">      this.tableData = response.data</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>稍微解释一下：<strong>response</strong> 是 axios 发送 HTTP 请求后<strong>服务器返回</strong>的响应对象，它包含了服务器返回的数据和相关信息。在 axios 请求中，response 对象通常有以下结构：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613141321919.png" alt="image-20250613141321919"></p>
<p>这里的 data 字段就是后端传来的实际数据，也即一个 json。</p>
<p>在我们的后端代码中，控制器返回的是一个 <code>List&lt;UserT&gt;</code> 也即列表：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/findAll&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;UserT&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">    List&lt;UserT&gt; users = userTMapper.selectAllUserAndOrders();  <span class="comment">// 查询所有用户</span></span><br><span class="line">    System.out.println(<span class="string">&quot;查询到的用户列表: &quot;</span> + users);</span><br><span class="line">    <span class="keyword">return</span> users;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里 <code>response.data</code> 就是一个长成这样的列表：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Alice&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;alice123&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;birthday&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1990-01-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;orders&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;orderTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2025-06-12 10:00:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">150.5</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;uid&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;orderTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2025-06-12 14:00:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">50</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;uid&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Bob&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bob123&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;birthday&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1992-05-15&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;orders&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;orderTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2025-06-12 11:30:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">200.75</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;uid&quot;</span><span class="punctuation">:</span> <span class="number">2</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Alice&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;charlie123&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;birthday&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1995-08-20&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;orders&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;orderTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2025-06-12 12:45:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">99.99</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;uid&quot;</span><span class="punctuation">:</span> <span class="number">3</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>在我们 Hello.vue 中的 data 部分定义了 <code>tableData: []</code>，这也是一个列表，通过 <code>this.tableData = response.data</code> 实现了从后端 API 获取的数据到 Vue 组件数据属性的赋值操作。</p>
<p><code>el-table</code> 组件通过 <code>:data=&quot;tableData&quot;</code> 绑定到这个数据，当 tableData 更新时，表格会自动渲染新数据。</p>
<p>同时在 <code>el-table-column</code> 中我们可以指定要展示到前端的属性（id，username，birthday），通过 props 实现。</p>
<h2 id="VueRouter-路由（未完成）"><a href="#VueRouter-路由（未完成）" class="headerlink" title="VueRouter 路由（未完成）"></a>VueRouter 路由（未完成）</h2><img src="./Spring后端学习笔记.assets/image-20250613143104812.png" alt="image-20250613143104812" style="zoom:33%;" />

<p>创建新 vue2 项目：<code>vue create router-demo</code></p>
<p>安装 vue-router 3：<code>npm install vue-router@3</code></p>
<p>现在创建三个组件，组件里的内容随意设置即可：</p>
<img src="./Spring后端学习笔记.assets/image-20250613145159074.png" alt="image-20250613145159074" style="zoom: 50%;" />

<p>修改 App.vue，这里的router-link 标签类似于 HTML 的超链接。这里我们还没有确定链接和组件之间的对应关系：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 声明路由链接 --&gt;</span><br><span class="line">    &lt;router-link to=&quot;/discover&quot;&gt;发现音乐&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/my&quot;&gt;我的音乐&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/friend&quot;&gt;关注&lt;/router-link&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>接下来新建一个文件夹 src&#x2F;router，新建一个叫做 index.js 的文件，用来将路径和组件匹配起来。并在最后导出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Discover</span> <span class="keyword">from</span> <span class="string">&quot;../components/Discover.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Friends</span> <span class="keyword">from</span> <span class="string">&quot;../components/Friends.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">My</span> <span class="keyword">from</span> <span class="string">&quot;../components/My.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123; <span class="attr">path</span>:<span class="string">&#x27;/discover&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Discover</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>:<span class="string">&#x27;/friends&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Friends</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>:<span class="string">&#x27;/my&#x27;</span>, <span class="attr">component</span>: <span class="title class_">My</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<p>在 main.js 导入上面的 router：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="attr">router</span>: router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>那么这些组件显示在哪里呢？我们还需要一个路由占位符 <code>&lt;router-view&gt;&lt;/router-view&gt;</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 声明路由链接 --&gt;</span><br><span class="line">    &lt;router-link to=&quot;/discover&quot;&gt;发现音乐&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/my&quot;&gt;我的音乐&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/friend&quot;&gt;关注&lt;/router-link&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>如果我们希望在首页也出现“发现”，可以在 index.js 设置重定向：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/discover&#x27;</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>:<span class="string">&#x27;/discover&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Discover</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>:<span class="string">&#x27;/friends&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Friends</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>:<span class="string">&#x27;/my&#x27;</span>, <span class="attr">component</span>: <span class="title class_">My</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>如果希望嵌套跳转，如 &#x2F;discover&#x2F;play-list，可以在 component 后面加一个 children 属性，嵌套声明子路由。代码略。</p>
<p>现在思考一个问题，如果我们在购物界面，要显示许多商品，不可能把每一个商品都写一遍路由映射。</p>
<p>因此可以使用动态路由：</p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613152920488.png" alt="image-20250613152920488"></p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613154505872.png" alt="image-20250613154505872"></p>
<p><img src="/./Spring%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.assets/image-20250613154922765.png" alt="image-20250613154922765"></p>
<p>暂时先不实现，等以后有时间再做。</p>
<h2 id="状态管理-VueX（未完成）"><a href="#状态管理-VueX（未完成）" class="headerlink" title="状态管理 VueX（未完成）"></a>状态管理 VueX（未完成）</h2><p>注意，B站教程<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1nV4y1s7ZN/?p=14&share_source=copy_web&vd_source=85bef9e6ee0eb95b52f30b868049555d">【1天搞定SpringBoot+Vue全栈开发】</a> 中本章仅仅介绍概念，不涉及具体敲代码实现。</p>
<img src="./Spring后端学习笔记.assets/image-20250613155028306.png" alt="image-20250613155028306" style="zoom:33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250715152121884.png" alt="image-20250715152121884" style="zoom:50%;" />

<p><code>state</code> 是一个对象，包含应用中<strong>共享的数据</strong>。</p>
<p><code>getter</code> 是对 state 的计算结果（可以理解为 state 的派生状态）。</p>
<p><code>mutation</code> 是<strong>更改状态</strong>的唯一推荐方式，<strong>必须是同步的</strong>。</p>
<p><code>action</code> 用于处理异步操作（例如后端接口调用），然后提交 mutation 来更改状态。</p>
<p>当你的项目变大，store 很臃肿时，就可以使用 <code>modules</code> 进行拆分。</p>
<h2 id="Mock-js"><a href="#Mock-js" class="headerlink" title="Mock.js"></a>Mock.js</h2><p>写前端的时候，后端往往还没写好，因此需要模拟一些数据。当然我们可以直接写在 data 里面，但是 Mock.js 允许我们正常通过 Axios 发送请求，请求会被 Mock.js 拦截，拦截后生成随机响应数据，模拟后端服务器响应。</p>
<p>等后端开发好之后，只需要移除 mock 即可。</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250715155530956.png" alt="image-20250715155530956" style="zoom: 33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250715155730911.png" alt="image-20250715155730911" style="zoom:33%;" />

<h2 id="JWT-跨域认证"><a href="#JWT-跨域认证" class="headerlink" title="JWT 跨域认证"></a>JWT 跨域认证</h2><img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250717094630128.png" alt="image-20250717094630128" style="zoom: 33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250717094646103.png" alt="image-20250717094646103" style="zoom:33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250717094711635.png" alt="image-20250717094711635" style="zoom:33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250717094725104.png" alt="image-20250717094725104" style="zoom:33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250717094813230.png" alt="image-20250717094813230" style="zoom:33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250717094916140.png" alt="image-20250717094916140" style="zoom:33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250717094938090.png" alt="image-20250717094938090" style="zoom:33%;" />

<h2 id="云服务器与云端部署"><a href="#云服务器与云端部署" class="headerlink" title="云服务器与云端部署"></a>云服务器与云端部署</h2><p>ECS，弹性计算服务，它让你可以像使用物理服务器一样，在云端<strong>快速创建、启动、管理和释放虚拟机</strong>。</p>
<p>ECS 就是“云上的电脑”或“云主机”，你可以用它部署网站、跑程序、开数据库、搭服务，想开就开，想关就关，按量计费。</p>
<p>（就和北邮大三下大数据技术基础用的华为云ECS服务器一样）</p>
<p>建议使用<strong>XShell和Xftp</strong>进行服务器远程连接，后者是用于本地和云端文件传输的。先把JDK，Mysql，Nginx安装包传到云服务器。然后配置mysql，配置完就可以连接到服务器的mysql了，IP就是公网IP地址。</p>
<p>最后是前后端项目的部署。</p>
<p>注意，npm run serve是开发环境中使用的，在云服务器中不要用node，而是使用nginx服务器。在前端项目中，终端输入npm run build，打包的过程就是把vue文件生成为html代码（打包过程中需要修改.env.production中的base api配置，配置为服务器的公网IP）。打包完成后会放在dist目录中。把dist文件夹传到云服务器上。</p>
<p>进入&#x2F;etc&#x2F;nginx&#x2F;conf.d创建vue.conf文件，配置：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /usr/app/dist;</span><br><span class="line">        <span class="attribute">index</span> index.html</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>root &#x2F;usr&#x2F;app&#x2F;dist;是你的dist目录路径。</p>
<p>修改后nginx -s reload加载配置。再回到我们本地浏览器，访问服务器公网IP，就可以访问到主页了。</p>
<p>后端我们在IDEA进行打包（maven栏点package），target目录下有jar包，上传到服务器，启动jar包即可启动后端。</p>
<p>至此，云服务器部署结束。</p>
<p><em>END 2025&#x2F;07&#x2F;18</em></p>
<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p><strong>区域</strong></p>
<p>工作区：自己电脑上的目录；</p>
<p>暂存区：临时区域，保存即将提交到git仓库的修改内容；</p>
<p>本地仓库：用git init创建的仓库。</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725145328143.png" alt="image-20250725145328143" style="zoom:33%;" />

<p><strong>状态</strong>有：未跟踪，未修改，已修改，已暂存：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725145636809.png" alt="image-20250725145636809" style="zoom:33%;" />

<p><code>.gitignore</code>：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725154049598.png" alt="image-20250725154049598" style="zoom:33%;" />

<p>自动生成链接：<a target="_blank" rel="noopener" href="https://www.toptal.com/developers/gitignore">gitignore.io - 为你的项目创建必要的 .gitignore 文件</a></p>
<p>一点语法规则的示例：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725154947080.png" alt="image-20250725154947080" style="zoom: 25%;" />

<p><strong>本地仓库命令</strong>：</p>
<p><code>git status -s</code>：查看本地仓库状态，查看本地仓库在哪个分支，查看Modified，Untrack的文件等；</p>
<p><code>git add</code>：放入暂存区；</p>
<p><code>git rm --cached</code>：取消暂存，返回untrack态；</p>
<p><code>git rm</code>：从工作目录中物理删除文件，从 Git 的暂存区中删除文件，将删除操作记录到下一次提交中；</p>
<p><code>git commit -m &quot;msg&quot;</code>：提交到仓库，只会提交暂存区的文件，而不会提交untrack文件；</p>
<p><code>git commit -am &quot;msg&quot;</code>：同时执行add和commit；</p>
<p><code>git log --oneline</code>：提交记录。</p>
<p><code>git reset</code>：用于撤销更改或移动 HEAD 指针（版本回退）。它有三种主要模式，每种模式对工作目录和暂存区的影响不同（这里的<code>&lt;commit&gt;</code>是回退的版本ID）：</p>
<p><code>git reset --soft &lt;commit&gt;</code>，只移动 HEAD 指针到指定提交，<strong>不修改暂存区</strong>(index)，<strong>不修改工作目录</strong>。可用于合并多个提交为一个。</p>
<p><code>git reset --mixed &lt;commit&gt;</code> 或简写 <code>git reset &lt;commit&gt;</code>，<strong>重置暂存区</strong>到指定提交的状态，<strong>不修改工作目录</strong>（文件更改保留，但变为未暂存状态）。</p>
<p><code>git reset --hard &lt;commit&gt;</code>，<strong>重置暂存区</strong>，<strong>重置工作目录</strong>到指定提交的状态（会丢失所有未提交的更改！）。</p>
<p><code>git diff</code>：查看文件在工作区，暂存区，仓库之间的差异；查看文件在两个版本之间的差异；查看文件在两个分支之间的差异。默认为工作区和暂存区的差异。<code>git diff HEAD~ HEAD</code> 用于查看两次提交之间的差异。</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725153337115.png" alt="image-20250725153337115" style="zoom:33%;" />

<p><strong>远程仓库：</strong></p>
<p>首先需要 Github 创建一个远程仓库，然后在本地连接到远程仓库，先在空目录 <code>git init</code>（如果这个目录原本就是git管理的目录，不要git init）再 <code>git remote add origin &lt;repository-url&gt;</code>，然后使用<code>git push -u origin main</code> 推送，把本地仓库master分支推送给远程仓库的main分支：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725161559962.png" alt="image-20250725161559962" style="zoom: 50%;" />

<p><code>git fetch</code>：只下载远程数据（更新本地存储的远程分支引用），不改变本地工作区。</p>
<p><code>git pull</code> &#x3D; <code>git fetch</code> + <code>git merge</code>（自动合并）</p>
<p><strong>分支：</strong></p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725165143538.png" alt="image-20250725165143538" style="zoom:50%;" />

<p><code>git branch</code>：查看分支列表；</p>
<p><code>git branch &lt;分支名&gt;</code> ：创建分支；</p>
<p><code>git switch -c &lt;分支名&gt;</code>：创建并切换分支；</p>
<p><code>git switch</code>：切换分支，在切换分支的时候，磁盘上文件会出现变化，如果在dev分支修改，在切换到main分支之后，dev分支的修改不会显示。</p>
<p>举个例子，如果我们在main分支下创建了1.txt，并执行add和commit，再切换回dev分支，此时磁盘中（工作区）是没有1.txt文件的。</p>
<p><code>git merge &lt;被合并分支&gt;</code>：把被合并分支合并到当前分支中。想要合并远程仓库，使用<code>git pull</code> 。一般建议先<code>git switch</code>切换分支，然后再merge。</p>
<p><code>git branch -d</code>：删除分支。</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725170126856.png" alt="image-20250725170126856" style="zoom: 50%;" />

<p><strong>合并分支中的冲突问题：</strong>修改同一文件同一行代码。</p>
<p>注意这种情况在 <code>git merge</code> 输入之后，<strong>所有不冲突的部分都会被 merge</strong>，冲突的部分会显示成下面这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="string">HEAD</span></span><br><span class="line"><span class="string">对方的帆帆大大方方</span></span><br><span class="line"><span class="string">=======</span></span><br><span class="line"><span class="string">22121122112</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; dev</span></span><br></pre></td></tr></table></figure>

<p>也就是merge之后发现有冲突并不会回退到没merge之前，而是能merge的都merge了，如果想回退：<code>git merge --abort</code> 终止合并。</p>
<p>不想回退就直接手动编辑解决冲突，解决后commit即可，因为能merge的都已经merge了，只需要修改不能merge的冲突部分即可。</p>
<p><strong>变基 Rebase：</strong></p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725172408872.png" alt="image-20250725172408872" style="zoom: 25%;" />

<p>rebase机制：先找到两个分支共同祖先，然后把<strong>当前分支</strong>上从共同祖先到现在最新的记录全部移动到<strong>目标分支后面</strong>。</p>
<p><strong>Git 管理规范：</strong></p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250725173802064.png" alt="image-20250725173802064" style="zoom: 25%;" />

<p><strong>Git Flow 工作流：</strong></p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\72b99d777400f7ce7f1f4b5209744d3c.png" alt="img" style="zoom: 67%;" />

<p><strong>主要分支master</strong>上存放的是最稳定的正式版本，并且该分支的代码应该是随时可在<strong>生产环境</strong>中使用的代码。<strong>任何人不允许在主要分支上进行代码的直接提交，只接受其他分支的合入</strong>。原则上主要分支上的代码必须是合并自经过多轮测试及已经发布一段时间且线上稳定的预发分支。</p>
<p><strong>开发分支develop</strong>是主开发分支，其上更新的代码始终反映着下一个发布版本需要交付的新功能。当开发分支到达一个稳定的点并准备好发布时，应该从该点拉取一个<strong>预发分支release</strong>并附上发布版本号。也有人称开发分支为集成分支，因为会基于该分支和持续集成工具做自动化的构建。<strong>开发分支接受其他辅助分支的合入，最常见的就是功能分支feature，开发一个新功能时拉取新的功能分支，开发完成后再并入开发分支</strong>。需要注意的是，<strong>合入开发的分支必须保证功能完整，不影响开发分支的正常运行</strong>。</p>
<p><strong>功能分支</strong>一般命名为 Feature&#x2F;xxx，用于开发即将发布版本或未来版本的新功能或者探索新功能。该分支通常存在于开发人员的本地代码库而不要求提交到远程代码库上，除非几个人合作在同一个功能分支开发。</p>
<p><strong>预发分支</strong>一般命名为 Release&#x2F;1.2（后面是版本号），允许做<strong>小量级的Bug修复和准备发布版本的元数据信息</strong>（版本号、编译时间等）。预发分支需要提交到服务器上，<strong>交由测试工程师进行测试</strong>，并由开发工程师修复Bug。同时根据该分支的特性我们可以部署自动化测试以及生产环境代码的自动化更新和部署。<strong>预发分支只能拉取自开发分支，合并回开发分支和主要分支。</strong></p>
<p><strong>热修复分支</strong>一般命名为Hotfix&#x2F;1.2.1（后面是版本号），当生产环境的代码（主要分支上代码）遇到严重到必须立即修复的缺陷时，就需要从主要分支上指定的tag版本（比如1.2）拉取热修复分支进行代码的紧急修复，并附上版本号（比如1.2.1）。<strong>热修复分支只能主要分支上拉取，测试通过后合并回主要分支和开发分支。</strong></p>
<h2 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h2><p><strong>POM (Project Object Model)<strong>：项目对象模型。每个 Maven 项目的核心都是一个 <code>pom.xml</code> 文件。它定义了项目的所有信息，包括</strong>项目坐标、依赖、插件、构建配置</strong>等。POM 是 Maven 工作的基础。</p>
<p>**坐标 (Coordinates &#x2F; GAV)**：Maven 使用坐标来唯一标识一个项目、依赖或插件。坐标由以下三个向量组成：</p>
<ul>
<li><code>groupId</code>：项目所属的组织或公司，通常是反向域名（如 <code>com.google.guava</code>）。</li>
<li><code>artifactId</code>：项目的唯一名称（如 <code>guava</code>）。</li>
<li><code>version</code>：项目的版本号（如 <code>31.0.1-jre</code>）。</li>
<li>GAV (GroupId, ArtifactId, Version) 共同确定了一个独一无二的构件 (Artifact)。</li>
</ul>
<p>**仓库 (Repository)**：用于存储所有项目构件（JAR、POM 等）的地方。Maven 的仓库分为三类：</p>
<ul>
<li>本地仓库 (Local Repository)：位于你自己的电脑上（默认在 <code>~/.m2/repository</code>）。当你构建项目时，Maven 会先从本地仓库查找依赖。如果找不到，它会从远程仓库下载并存入本地仓库。</li>
<li>中央仓库 (Central Repository)：Maven 官方提供的全球性仓库，包含了绝大多数流行的开源库。</li>
<li>远程仓库&#x2F;私服 (Remote Repository)：通常由公司或团队在内部搭建，用于存放公司内部的构件或作为中央仓库的缓存代理。</li>
</ul>
<p><strong>构建生命周期 (Build Lifecycle)、阶段 (Phase) 和目标 (Goal)</strong></p>
<ul>
<li><strong>生命周期 (Lifecycle)<strong>：代表一个完整的构建过程，由一系列有序的</strong>阶段</strong>组成。Maven 有三个主要的生命周期：<ul>
<li><code>default</code>：处理项目的构建和部署，这是最核心的生命周期。</li>
<li><code>clean</code>：清理上一次构建生成的文件。</li>
<li><code>site</code>：生成项目站点文档。</li>
</ul>
</li>
<li>**阶段 (Phase)**：生命周期中的一个步骤。例如，<code>default</code> 生命周期包含 <code>validate</code>, <code>compile</code>, <code>test</code>, <code>package</code>, <code>install</code>, <code>deploy</code> 等阶段。当你执行一个阶段时，它之前的所有阶段都会被依次执行。例如，执行 <code>mvn package</code> 会先执行 <code>compile</code> 和 <code>test</code>。</li>
<li><strong>插件 (Plugin) 和目标 (Goal)<strong>：实际的工作是由插件完成的。一个插件可以包含一个或多个</strong>目标</strong>，每个目标对应一个具体的任务。Maven 会将插件的目标绑定到特定的生命周期阶段上。例如，<code>maven-compiler-plugin</code> 的 <code>compile</code> 目标被绑定到 <code>compile</code> 阶段，用于编译源代码。</li>
</ul>
<hr>
<h3 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 模型版本，对于 Maven 2 和 3 来说，这里总是 4.0.0 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 项目的坐标 (GAV) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>基本信息</strong>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 项目坐标 GAV --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 项目打包方式，默认为 jar。可以是 war, ear, pom 等 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 项目的可读名称和描述 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>My Awesome Application<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>A simple application to demonstrate Maven.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://example.com/my-app<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>依赖</strong>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 每个 &lt;dependency&gt; 标签代表一个依赖 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 依赖范围 (scope)，非常重要！ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.guava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guava<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>31.0.1-jre<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 默认 scope 是 compile --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- provided 表示该依赖由容器（如 Tomcat）提供，打包时无需包含 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 排除传递性依赖 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>scope</code>（依赖范围）详解:</p>
<ul>
<li><code>compile</code> (默认): 对编译、测试、运行都有效，会被打包。</li>
<li><code>test</code>: 只对测试代码的编译和运行有效，不会被打包。例如 JUnit。</li>
<li><code>provided</code>: 对编译和测试有效，但运行时由环境（如 JDK 或 Web 容器）提供，不会被打包。例如 Servlet API。</li>
<li><code>runtime</code>: 对测试和运行有效，但在编译时不需要，会被打包。例如 JDBC 驱动。</li>
<li><code>system</code>: 与 <code>provided</code> 类似，但需要你手动指定 JAR 包的路径，不推荐使用。</li>
<li><code>import</code>: 只能在 <code>&lt;dependencyManagement&gt;</code> 中使用，用于导入其他 POM 的依赖管理配置。</li>
</ul>
<p><strong>属性</strong>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义项目编码 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义 Java 版本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 统一管理依赖版本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.3.15<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 在其他地方通过 $&#123;...&#125; 的方式引用 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>构建配置：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 自定义最终构件的名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>$&#123;project.artifactId&#125;-$&#123;project.version&#125;<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 插件管理 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 配置具体的插件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 在这里配置插件的参数 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>父子项目：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-parent-project<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 父项目的打包方式必须是 pom --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 声明所有子模块 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>my-core-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>my-web-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    使用 &lt;dependencyManagement&gt; 统一管理所有子模块的依赖版本。</span></span><br><span class="line"><span class="comment">    这里只是声明，子模块需要显式引入才会生效。</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.15<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>子模块 POM (<code>my-web-module/pom.xml</code>):</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 继承自父项目 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-parent-project<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 子模块的 artifactId --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-web-module<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        引入 spring-context，无需指定 version。</span></span><br><span class="line"><span class="comment">        它会自动继承父 POM 中 &lt;dependencyManagement&gt; 里声明的版本。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>&lt;parent&gt;</code>：实现继承。子模块继承父模块的 <code>groupId</code>, <code>version</code>, <code>dependencies</code>, <code>plugins</code> 等配置。</li>
<li><code>&lt;modules&gt;</code>：实现聚合。在父项目目录下执行 Maven 命令（如 <code>mvn package</code>），Maven 会自动构建所有子模块。</li>
</ul>
<p><strong>环境配置：</strong>允许你为不同的环境（如开发 <code>dev</code>、测试 <code>test</code>、生产 <code>prod</code>）定义不同的构建配置。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义一个 &#x27;production&#x27; 环境 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>production<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">database.url</span>&gt;</span>jdbc:mysql://prod-db.example.com/mydb<span class="tag">&lt;/<span class="name">database.url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">                 <span class="comment">&lt;!-- 在生产环境下启用代码混淆插件 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- 定义一个 &#x27;development&#x27; 环境 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>development<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 默认激活该环境 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">database.url</span>&gt;</span>jdbc:mysql://dev-db.example.com/mydb<span class="tag">&lt;/<span class="name">database.url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用时通过 <code>-P</code> 参数激活指定的 profile，例如：<code>mvn package -P production</code>。</p>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><ul>
<li><code>mvn clean</code>: 清理 <code>target</code> 目录，删除上次构建的结果。</li>
<li><code>mvn compile</code>: 编译 <code>src/main/java</code> 下的 Java 文件。</li>
<li><code>mvn test</code>: 运行 <code>src/test/java</code> 下的测试用例。</li>
<li><code>mvn package</code>: 将项目打包成 <code>jar</code> 或 <code>war</code> 文件，存放在 <code>target</code> 目录。</li>
<li><code>mvn install</code>: 将打包好的构件安装到本地仓库，供其他项目依赖。</li>
<li><code>mvn deploy</code>: 将构件部署到远程仓库&#x2F;私服。</li>
<li><code>mvn a_phase -DskipTests</code>: 执行某个阶段，并跳过测试。</li>
<li><code>mvn dependency:tree</code>: 以树状图展示项目的依赖关系，非常适合排查依赖冲突。</li>
</ul>
<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><p>Docker 是一个开源的应用容器引擎，它允许开发者将应用及其所有依赖打包到一个可移植的、轻量级的、自包含的容器（Container）中，然后可以发布到任何支持 Docker 的 Linux、Windows 或 macOS 机器上，实现“一次构建，到处运行”（Build Once, Run Anywhere）。</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726142951088.png" alt="image-20250726142951088" style="zoom:33%;" />

<p><strong>Docker Daemon (dockerd)<strong>：服务器端。一个在宿主机（Host OS）上以</strong>后台进程</strong>形式运行的服务。负责<strong>接收来自 Docker 客户端的命令</strong>，并管理 Docker 对象，包括镜像（Images）、容器（Containers）、网络（Networks）和卷（Volumes）的生命周期。它是 Docker 架构的核心。</p>
<p><strong>Docker Client (docker)<strong>：客户端。用户与 Docker Daemon 交互的主要接口，通常通过命令行交互。</strong>用户通过 docker 命令（如 docker run, docker pull, docker build 等）</strong>向 Docker Daemon 发送 REST API 请求，以执行相应的操作。客户端可以和 Daemon 在同一台宿主机上，也可以通过远程连接控制不同机器上的 Daemon。</p>
<p><strong>Docker Registry</strong>：镜像仓库。<strong>用于存储和分发 Docker 镜像</strong>的服务。Registry 分为公共（Public）和私有（Private）两种。最著名的公共 Registry 是 Docker Hub，它提供了大量官方和社区维护的镜像。企业内部通常会搭建私有 Registry（如 Harbor）来管理自己的应用镜像。</p>
<p><strong>镜像</strong>：一个<strong>只读的模板</strong>，包含了创建 Docker 容器所需的文件系统和运行参数。它是一个分层的文件系统（Layered Filesystem），由一系列的层（Layers） 构成。</p>
<p><strong>容器</strong>：镜像的一个<strong>可运行实例</strong>，可以在这个实例中运行应用程序。容器是从镜像创建的，它拥有自己独立的文件系统、网络空间、进程空间和资源限制。每个容器都有自己的 pid (进程)、net (网络)、ipc (进程间通信)、mnt (挂载点)、uts (主机名) 和 user (用户) 命名空间。这使得容器内的进程看不到宿主机或其他容器的进程和网络。容器可以被创建、启动、停止、暂停、恢复和删除。</p>
<p><strong>Dockerfile</strong>：一个文本文件，包含了一系列指令（Instructions），用于自动化地从一个基础镜像（Base Image）开始，一步步构建出一个新的 Docker 镜像。</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 使用官方的、轻量级的 Node.js 16 镜像作为基础</span></span><br><span class="line"><span class="keyword">FROM</span> node:<span class="number">16</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 添加元数据</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer=<span class="string">&quot;Docker Team &lt;team@docker.com&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 设置环境变量，方便路径管理和配置</span></span><br><span class="line"><span class="keyword">ENV</span> NODE_ENV=production</span><br><span class="line"><span class="keyword">ENV</span> APP_HOME=/usr/src/app</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 创建应用目录并设置为工作目录</span></span><br><span class="line"><span class="comment"># 使用 WORKDIR 会自动创建目录，且后续指令都在此目录下执行</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> <span class="variable">$&#123;APP_HOME&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. 复制依赖描述文件</span></span><br><span class="line"><span class="comment"># 利用 Docker 的缓存机制，只要 package*.json 不变，下面这层就不会重新构建</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> package*.json ./</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. 安装生产环境的依赖</span></span><br><span class="line"><span class="comment"># --only=production 避免安装 devDependencies</span></span><br><span class="line"><span class="comment"># npm ci 更快更可靠</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> npm ci --only=production &amp;&amp; npm cache clean --force</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 7. 复制应用源代码到工作目录</span></span><br><span class="line"><span class="comment"># 放在安装依赖之后，这样修改代码时不会导致依赖重新安装</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 8. 声明容器对外暴露的端口</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">3000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 9. (可选) 出于安全考虑，创建一个非 root 用户并切换</span></span><br><span class="line"><span class="comment"># RUN addgroup -S appgroup &amp;&amp; adduser -S appuser -G appgroup</span></span><br><span class="line"><span class="comment"># USER appuser</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 10. 定义容器启动时执行的默认命令</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [ <span class="string">&quot;node&quot;</span>, <span class="string">&quot;server.js&quot;</span> ]</span></span><br></pre></td></tr></table></figure>

<p>又如：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用Ubuntu镜像</span></span><br><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">22.04</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> sed -i <span class="string">&quot;s@http://.*archive.ubuntu.com@http://mirrors.tuna.tsinghua.edu.cn@g&quot;</span> /etc/apt/sources.list</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> sed -i <span class="string">&quot;s@http://.*security.ubuntu.com@http://mirrors.tuna.tsinghua.edu.cn@g&quot;</span> /etc/apt/sources.list</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /root/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装JDK等</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt update &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    apt install -y openjdk-8-jdk wget openssh-server nano vim less net-tools iputils-ping curl</span></span><br><span class="line"><span class="keyword">ENV</span> JAVA_HOME=/usr/lib/jvm/java-<span class="number">8</span>-openjdk-amd64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 配置SSH免密码登录</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> ssh-keygen -t rsa -P <span class="string">&#x27;&#x27;</span> -f ~/.ssh/id_rsa &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">cat</span> ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> scripts/* /root/scripts/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">chmod</span> -R 777 /root/scripts</span></span><br><span class="line"><span class="keyword">ENV</span> PATH=/root/scripts:$PATH</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载并解压Hadoop</span></span><br><span class="line"><span class="comment"># RUN wget https://mirrors.huaweicloud.com/apache/hadoop/common/hadoop-3.3.6/hadoop-3.3.6.tar.gz</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> hadoop-3.3.6.tar.gz /root/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> tar -xzvf hadoop-3.3.6.tar.gz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">rm</span> hadoop-3.3.6.tar.gz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">mv</span> hadoop-3.3.6 hadoop &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">chmod</span> -R 777 hadoop</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> apache-zookeeper-3.9.3-bin.tar.gz /root/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> tar -xzvf apache-zookeeper-3.9.3-bin.tar.gz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">rm</span> apache-zookeeper-3.9.3-bin.tar.gz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">mv</span> apache-zookeeper-3.9.3-bin zookeeper &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">chmod</span> -R 777 zookeeper</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># COPY hbase-2.5.8-bin.tar.gz /root/</span></span><br><span class="line"><span class="comment"># RUN tar -xzvf hbase-2.5.8-bin.tar.gz &amp;&amp; \</span></span><br><span class="line"><span class="comment">#     rm hbase-2.5.8-bin.tar.gz &amp;&amp; \</span></span><br><span class="line"><span class="comment">#     mv hbase-2.5.8 hbase &amp;&amp; \</span></span><br><span class="line"><span class="comment">#     chmod -R 777 hbase</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> flink-1.14.6-bin-scala_2.12.tgz /root/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> tar -xzvf flink-1.14.6-bin-scala_2.12.tgz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">rm</span> flink-1.14.6-bin-scala_2.12.tgz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">mv</span> flink-1.14.6 flink &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">chmod</span> -R 777 flink</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># flink-shaded-hadoop-3-uber-3.1.1.7.2.9.0-173-9.0.jar</span></span><br><span class="line"><span class="comment"># flink-shaded-zookeeper-3-3.8.3-18.0.jar</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> flink-shaded-*.jar /root/flink/lib/</span></span><br><span class="line"><span class="comment"># commons-cli-1.4.jar</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> commons-cli*.jar /root/flink/lib/</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> flink_config/ /root/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> kafka_2.12-3.7.0.tgz /root/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> tar -xzvf kafka_2.12-3.7.0.tgz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">rm</span> kafka_2.12-3.7.0.tgz &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">mv</span> kafka_2.12-3.7.0 kafka &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">chmod</span> -R 777 kafka</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置环境变量</span></span><br><span class="line"><span class="comment"># ENV CLASSPATH=/usr/lib/jvm/java-8-openjdk-amd64/lib</span></span><br><span class="line"><span class="comment"># hadoop</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;slave1&quot;</span> &gt; /root/hadoop/etc/hadoop/workers</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;slave2&quot;</span> &gt;&gt; /root/hadoop/etc/hadoop/workers</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;slave3&quot;</span> &gt;&gt; /root/hadoop/etc/hadoop/workers</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> HADOOP_HOME=/root/hadoop</span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> <span class="variable">$HADOOP_HOME</span>/tmp</span></span><br><span class="line"><span class="keyword">ENV</span> HADOOP_TMP_DIR=$HADOOP_HOME/tmp</span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> <span class="variable">$HADOOP_HOME</span>/namenode</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> <span class="variable">$HADOOP_HOME</span>/datanode</span></span><br><span class="line"><span class="keyword">ENV</span> HADOOP_CONFIG_HOME=$HADOOP_HOME/etc/hadoop</span><br><span class="line"><span class="keyword">ENV</span> PATH=$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH</span><br><span class="line"><span class="keyword">ENV</span> HADOOP_CLASSPATH=$HADOOP_HOME/share/hadoop/tools/lib/*:$HADOOP_HOME/share/hadoop/common/lib/*:$HADOOP_HOME/share/hadoop/common/*:$HADOOP_HOME/share/hadoop/hdfs/*:$HADOOP_HOME/share/hadoop/hdfs/lib/*:$HADOOP_HOME/share/hadoop/yarn/*:$HADOOP_HOME/share/hadoop/yarn/lib/*:$HADOOP_HOME/share/hadoop/mapreduce/*:$HADOOP_HOME/share/hadoop/mapreduce/lib/*:$HADOOP_CLASSPATH</span><br><span class="line"><span class="keyword">ENV</span> HDFS_NAMENODE_USER=<span class="string">&quot;root&quot;</span></span><br><span class="line"><span class="keyword">ENV</span> HDFS_DATANODE_USER=<span class="string">&quot;root&quot;</span></span><br><span class="line"><span class="keyword">ENV</span> HDFS_SECONDARYNAMENODE_USER=<span class="string">&quot;root&quot;</span></span><br><span class="line"><span class="keyword">ENV</span> YARN_RESOURCEMANAGER_USER=<span class="string">&quot;root&quot;</span></span><br><span class="line"><span class="keyword">ENV</span> YARN_NODEMANAGER_USER=<span class="string">&quot;root&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># zookeeper</span></span><br><span class="line"><span class="keyword">ENV</span> ZOOKEEPER_HOME=/root/zookeeper</span><br><span class="line"><span class="keyword">ENV</span> PATH=$ZOOKEEPER_HOME/bin:$PATH</span><br><span class="line"></span><br><span class="line"><span class="comment"># hbase</span></span><br><span class="line"><span class="comment"># ENV HBASE_HOME=/root/hbase</span></span><br><span class="line"><span class="comment"># ENV PATH=$HBASE_HOME/bin:$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># flink</span></span><br><span class="line"><span class="keyword">ENV</span> FLINK_HOME=/root/flink</span><br><span class="line"><span class="keyword">ENV</span> PATH=$FLINK_HOME/bin:$PATH</span><br><span class="line"></span><br><span class="line"><span class="comment"># kafka</span></span><br><span class="line"><span class="keyword">ENV</span> KAFKA_HOME=/root/kafka</span><br><span class="line"><span class="keyword">ENV</span> PATH=$KAFKA_HOME/bin:$PATH</span><br><span class="line"></span><br><span class="line"><span class="comment"># COPY flink_config/* /root/flink/conf/</span></span><br><span class="line"><span class="comment"># RUN echo &quot;master&quot; &gt; /root/flink/conf/workers</span></span><br><span class="line"><span class="comment"># RUN echo &quot;slave1&quot; &gt;&gt; /root/flink/conf/workers</span></span><br><span class="line"><span class="comment"># RUN echo &quot;slave2&quot; &gt;&gt; /root/flink/conf/workers</span></span><br><span class="line"><span class="comment"># RUN echo &quot;slave3&quot; &gt;&gt; /root/flink/conf/workers</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RUN echo &quot;master:8081&quot; &gt; /root/flink/conf/masters</span></span><br><span class="line"><span class="comment"># RUN echo &quot;slave1:8081&quot; &gt;&gt; /root/flink/conf/masters</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hadoop</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> hadoop_config/* /root/hadoop/etc/hadoop/</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> sed -i <span class="string">&#x27;1i export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64&#x27;</span> /root/hadoop/etc/hadoop/hadoop-env.sh</span></span><br><span class="line"><span class="comment"># zookeeper</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> /root/zookeeper/tmp</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">cp</span> /root/zookeeper/conf/zoo_sample.cfg /root/zookeeper/conf/zoo.cfg</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> zookeeper_config/* /root/zookeeper/conf/</span></span><br><span class="line"><span class="comment"># echo &quot;1&quot; &gt; /root/zookeeper/tmp/myid</span></span><br><span class="line"><span class="comment"># hbase</span></span><br><span class="line"><span class="comment"># COPY hbase_config/* /root/hbase/conf/</span></span><br><span class="line"><span class="comment"># RUN echo &quot;export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64&quot; &gt;&gt; /root/hbase/conf/hbase-env.sh</span></span><br><span class="line"><span class="comment"># RUN echo &quot;export HBASE_MANAGES_ZK=false&quot; &gt;&gt; /root/hbase/conf/hbase-env.sh</span></span><br><span class="line"><span class="comment"># RUN echo &quot;export HBASE_LIBRARY_PATH=/root/hadoop/lib/native&quot; &gt;&gt; /root/hbase/conf/hbase-env.sh</span></span><br><span class="line"><span class="comment"># RUN echo &#x27;export HBASE_DISABLE_HADOOP_CLASSPATH_LOOKUP=&quot;true&quot;&#x27; &gt;&gt; /root/hbase/conf/hbase-env.sh</span></span><br><span class="line"><span class="comment"># kafka</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> sed -i <span class="string">&quot;s/zookeeper.connect=.*/zookeeper.connect=master:2181,slave1:2181,slave2:2181,slave3:2181/&quot;</span> /root/kafka/config/server.properties</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ssh</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;StrictHostKeyChecking no&quot;</span> &gt;&gt; /etc/ssh/ssh_config</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;PermitRootLogin yes&quot;</span> &gt;&gt; /etc/ssh/sshd_config</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;PasswordAuthentication yes&quot;</span> &gt;&gt; /etc/ssh/sshd_config</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;PubkeyAuthentication yes&quot;</span> &gt;&gt; /etc/ssh/sshd_config</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;export HADOOP_CLASSPATH=`hadoop classpath`&quot;</span> &gt;&gt; /root/.bashrc</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;/root/scripts/inithosts.sh&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<p>RUN和CMD的区别，RUN 在<strong>镜像构建过程中</strong>执行指定的命令。每条 RUN 指令都会在当前镜像的顶部创建一个新的层，然后提交结果。常用于安装软件包、创建目录等；CMD 定义了<strong>容器启动时</strong>的行为。</p>
<p>镜像管理指令：</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">作用</th>
<th align="left">常用示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>docker pull</code></td>
<td align="left">从 Docker Registry (如 Docker Hub) 拉取镜像</td>
<td align="left"><code>docker pull ubuntu:20.04</code></td>
</tr>
<tr>
<td align="left"><code>docker images</code></td>
<td align="left">列出本地所有镜像</td>
<td align="left"><code>docker images</code> 或 <code>docker image ls</code></td>
</tr>
<tr>
<td align="left"><code>docker build</code></td>
<td align="left">根据 Dockerfile 构建镜像</td>
<td align="left"><code>docker build -t my-app:1.0 .</code></td>
</tr>
<tr>
<td align="left"><code>docker rmi</code></td>
<td align="left">删除一个或多个本地镜像</td>
<td align="left"><code>docker rmi my-app:1.0</code></td>
</tr>
<tr>
<td align="left"><code>docker tag</code></td>
<td align="left">为镜像打上新的标签（tag）</td>
<td align="left"><code>docker tag my-app:1.0 my-repo/my-app:latest</code></td>
</tr>
<tr>
<td align="left"><code>docker push</code></td>
<td align="left">将镜像推送到 Docker Registry</td>
<td align="left"><code>docker push my-repo/my-app:latest</code></td>
</tr>
<tr>
<td align="left"><code>docker history</code></td>
<td align="left">显示镜像的构建历史（各层信息）</td>
<td align="left"><code>docker history ubuntu:20.04</code></td>
</tr>
<tr>
<td align="left"><code>docker save</code></td>
<td align="left">将镜像保存为一个 tar 归档文件</td>
<td align="left"><code>docker save -o my-app.tar my-app:1.0</code></td>
</tr>
<tr>
<td align="left"><code>docker load</code></td>
<td align="left">从一个 tar 归档文件加载镜像</td>
<td align="left"><code>docker load -i my-app.tar</code></td>
</tr>
</tbody></table>
<p>容器管理指令：</p>
<p>下面的指令可以进入容器或者在容器中进行操作：</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">作用</th>
<th align="left">常用示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>docker exec</code></td>
<td align="left">在正在运行的容器中执行命令</td>
<td align="left"><code>docker exec -it my-web /bin/bash</code></td>
</tr>
<tr>
<td align="left"><code>docker attach</code></td>
<td align="left">连接到正在运行的容器的标准输入&#x2F;输出&#x2F;错误流</td>
<td align="left"><code>docker attach my-interactive-container</code></td>
</tr>
<tr>
<td align="left"><code>docker logs</code></td>
<td align="left">获取容器的日志</td>
<td align="left"><code>docker logs my-web</code> 或 <code>docker logs -f my-web</code> (实时跟踪)</td>
</tr>
<tr>
<td align="left"><code>docker stats</code></td>
<td align="left">实时显示容器的资源使用情况（CPU、内存等）</td>
<td align="left"><code>docker stats</code></td>
</tr>
<tr>
<td align="left"><code>docker top</code></td>
<td align="left">显示一个容器内正在运行的进程</td>
<td align="left"><code>docker top my-web</code></td>
</tr>
<tr>
<td align="left"><code>docker inspect</code></td>
<td align="left">获取容器或镜像的详细元数据（JSON 格式）</td>
<td align="left"><code>docker inspect my-web</code></td>
</tr>
<tr>
<td align="left"><code>docker cp</code></td>
<td align="left">在容器和宿主机之间复制文件&#x2F;文件夹</td>
<td align="left"><code>docker cp ./index.html my-web:/usr/share/nginx/html/</code></td>
</tr>
</tbody></table>
<h3 id="Docker-Compose"><a href="#Docker-Compose" class="headerlink" title="Docker Compose"></a>Docker Compose</h3><p>Docker Compose 是一个用于定义和运行多容器 Docker 应用程序的工具。 它允许你使用一个 YAML 文件（通常是 <code>docker-compose.yml</code>）来配置应用的所有服务，然后用一条命令，就可以根据这个配置创建并启动所有服务。</p>
<p>假设我们要部署一个简单的 Web 应用，它包含一个 Python Flask 应用 (web) 和一个 Redis 缓存 (redis)。</p>
<p>我们的 docker-compose.yml 文件可能长这样：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 Compose 文件格式版本 3.8</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义所有服务</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="comment"># 第一个服务，名为 &#x27;web&#x27;</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="comment"># 从当前目录的 Dockerfile 构建镜像</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="comment"># 将宿主机的 8000 端口映射到容器的 5000 端口</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8000:5000&quot;</span></span><br><span class="line">    <span class="comment"># 挂载当前目录到容器的 /code 目录，方便代码修改立即生效</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">.:/code</span></span><br><span class="line">    <span class="comment"># 设置一个环境变量</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">FLASK_ENV=development</span></span><br><span class="line">    <span class="comment"># 声明 &#x27;web&#x27; 服务依赖于 &#x27;redis&#x27; 服务</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 第二个服务，名为 &#x27;redis&#x27;</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="comment"># 直接使用 Docker Hub 上的官方 redis 镜像</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">&quot;redis:alpine&quot;</span></span><br></pre></td></tr></table></figure>

<p>又如：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">master:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">exp_flink:1.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">master</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">master</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;9870:9870&quot;</span>  <span class="comment"># Expose the Flink master web UI</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;16010:16010&quot;</span>  <span class="comment"># Expose the Flink RPC port</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8088:8088&quot;</span>  <span class="comment"># Expose the Flink job manager web UI</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8081:8081&quot;</span>  <span class="comment"># Expose the Flink web UI</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;1&quot;</span>]  <span class="comment"># myid=1</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">slave1:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">exp_flink:1.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">slave1</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">slave1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8082:8081&quot;</span>  <span class="comment"># Expose the Flink web UI</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;2&quot;</span>]</span><br><span class="line"></span><br><span class="line">  <span class="attr">slave2:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">exp_flink:1.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">slave2</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">slave2</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8083:8081&quot;</span>  <span class="comment"># Expose the Flink web UI</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;3&quot;</span>]</span><br><span class="line"></span><br><span class="line">  <span class="attr">slave3:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">exp_flink:1.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">slave3</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8084:8081&quot;</span>  <span class="comment"># Expose the Flink web UI</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">slave3</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;4&quot;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>相关命令如下：</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">作用</th>
<th align="left">常用示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>docker-compose up</code></td>
<td align="left">创建并启动 <code>docker-compose.yml</code> 中定义的所有服务</td>
<td align="left"><code>docker-compose up -d</code> (后台运行)</td>
</tr>
<tr>
<td align="left"><code>docker-compose down</code></td>
<td align="left">停止并移除 <code>docker-compose.yml</code> 定义的容器、网络等</td>
<td align="left"><code>docker-compose down --volumes</code> (同时删除卷)</td>
</tr>
<tr>
<td align="left"><code>docker-compose ps</code></td>
<td align="left">列出 Compose 项目中的所有容器</td>
<td align="left"><code>docker-compose ps</code></td>
</tr>
<tr>
<td align="left"><code>docker-compose build</code></td>
<td align="left">构建或重新构建服务</td>
<td align="left"><code>docker-compose build</code></td>
</tr>
<tr>
<td align="left"><code>docker-compose logs</code></td>
<td align="left">查看服务的日志输出</td>
<td align="left"><code>docker-compose logs -f my-service</code></td>
</tr>
<tr>
<td align="left"><code>docker-compose exec</code></td>
<td align="left">在一个正在运行的服务容器中执行命令</td>
<td align="left"><code>docker-compose exec web /bin/bash</code></td>
</tr>
</tbody></table>
<h2 id="MQ-消息队列"><a href="#MQ-消息队列" class="headerlink" title="MQ 消息队列"></a>MQ 消息队列</h2><p>用于解决分布式系统或微服务架构中不同组件（服务、应用、进程）之间的通信问题。</p>
<p>如：RabbitMQ，Apache Kafka，Apache RocketMQ，ActiveMQ</p>
<h3 id="为什么使用MQ"><a href="#为什么使用MQ" class="headerlink" title="为什么使用MQ"></a>为什么使用MQ</h3><ul>
<li><strong>解耦</strong>。如图所示。假设有系统B、C、D都需要系统A的数据，于是系统A调用三个方法发送数据到B、C、D。这时，系统D不需要了，那就需要在系统A把相关的代码删掉。假设这时有个新的系统E需要数据，这时系统A又要增加调用系统E的代码。为了降低这种强耦合，就可以使用MQ，<strong>系统A只需要把数据发送到MQ，其他系统如果需要数据，则从MQ中获取即可</strong>。</li>
</ul>
<p><img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\format,webp.webp" alt="img"></p>
<ul>
<li>异步。如图所示。一个客户端请求发送进来，系统A会调用系统B、C、D三个系统，同步请求的话，响应时间就是系统A、B、C、D的总和，也就是800ms。<strong>如果使用MQ，系统A发送数据到MQ，然后就可以返回响应给客户端，不需要再等待系统B、C、D的响应，可以大大地提高性能</strong>。对于一些非必要的业务，比如发送短信，发送邮件等等，就可以采用MQ。</li>
</ul>
<p><img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\format,webp-1753509740331-1.webp" alt="img"></p>
<ul>
<li>削峰。如图所示。这其实是MQ一个很重要的应用。假设系统A在某一段时间请求数暴增，有5000个请求发送过来，系统A这时就会发送5000条SQL进入MySQL进行执行，MySQL对于如此庞大的请求当然处理不过来，MySQL就会崩溃，导致系统瘫痪。<strong>如果使用MQ，系统A不再是直接发送SQL到数据库，而是把数据发送到MQ，MQ短时间积压数据是可以接受的，然后由消费者每次拉取2000条进行处理，防止在请求峰值时期大量的请求直接发送到MySQL导致系统崩溃</strong>。</li>
</ul>
<p><img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\format,webp-1753509740331-2.webp" alt="img"></p>
<h3 id="RabbitMQ的Hello-World"><a href="#RabbitMQ的Hello-World" class="headerlink" title="RabbitMQ的Hello World"></a>RabbitMQ的Hello World</h3><p>这里我们以Windows为例，Linux端建议直接拉docker镜像。</p>
<p>首先RabbitMQ开发语言是Erlang，我们需要先下载安装Erlang（注意选择旧版本，这个链接有Erlang版本和RabbitMQ版本的兼容性矩阵：<a target="_blank" rel="noopener" href="https://www.rabbitmq.com/docs/which-erlang">Erlang Version Requirements | RabbitMQ</a>），链接<a target="_blank" rel="noopener" href="https://www.erlang.org/downloads">Downloads - Erlang&#x2F;OTP</a></p>
<p>安装后配置环境变量：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\屏幕截图 2025-07-26 140832.png" style="zoom:50%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\屏幕截图 2025-07-26 140903.png" alt="屏幕截图 2025-07-26 140903" style="zoom:50%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726143237076.png" alt="image-20250726143237076" style="zoom: 50%;" />

<p>接下来安装RabbitMQ：<a target="_blank" rel="noopener" href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.7.3">Release RabbitMQ 3.7.3 · rabbitmq&#x2F;rabbitmq-server</a></p>
<p>在sbin目录下执行<code>./rabbitmq-plugins enable rabbitmq_management</code>：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726151402968.png" alt="image-20250726151402968" style="zoom:50%;" />

<p>然后双击rabbitmq-server.bat启动脚本：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726151656117.png" alt="image-20250726151656117" style="zoom:50%;" />

<p>访问<a target="_blank" rel="noopener" href="http://localhost:15672/#/">RabbitMQ Management</a>（localhost的15672端口）：账号密码均为guest，即可登录。至此服务端安装完毕。现在创建一个Java Maven项目，这里采用父子项目。先创建一个父项目，pom.xml中声明<code>&lt;modules&gt;</code>，然后创建两个模块，分别是生产者和消费者。</p>
<p><strong>生产者</strong>：</p>
<p>引入依赖（消费者也需要进行引入）：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在application.yml文件加上RabbitMQ的配置信息：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">producer</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">guest</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">guest</span></span><br></pre></td></tr></table></figure>

<p>创建一个<strong>Direct交换机以及队列</strong>的配置类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.producer.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Binding;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.BindingBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.DirectExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Queue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RabbitMQConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DirectExchange <span class="title function_">directExchange</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">DirectExchange</span>(<span class="string">&quot;direct.exchange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">directQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;direct.queue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">directBinding</span><span class="params">(Queue directQueue, DirectExchange directExchange)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(directQueue).to(directExchange).with(<span class="string">&quot;direct.routing.key&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后再创建一个发送消息的Service类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.producer.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MessageService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">&quot;direct.exchange&quot;</span>, <span class="string">&quot;direct.routing.key&quot;</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后创建一个控制器类，调用service层的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.producer.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.example.producer.service.MessageService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MessageController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MessageService messageService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/send&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sendMessage</span><span class="params">(<span class="meta">@RequestBody</span> String message)</span> &#123;</span><br><span class="line">        messageService.sendMessage(message);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Message sent: &quot;</span> + message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>消费者</strong>：</p>
<p>pom.xml和yaml略。消费者只需要创建一个Listener类，@RabbitListener注解写上监听队列的名称：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.consumer.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MessageListener</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;direct.queue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receiveMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Received message: &quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>（实际使用中都是用DTO封装消息，且Routing Key不使用硬编码）</em></p>
<p><strong>启动与测试：</strong></p>
<p>先启动生产者，使用apipost发送一条消息，然后启动消费者：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726163615659.png" alt="image-20250726163615659" style="zoom: 33%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726163523558.png" alt="image-20250726163523558" style="zoom: 25%;" />

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726163645360.png" alt="image-20250726163645360" style="zoom:50%;" />

<p>测试成功。</p>
<h3 id="RabbitMQ的组成"><a href="#RabbitMQ的组成" class="headerlink" title="RabbitMQ的组成"></a>RabbitMQ的组成</h3><ul>
<li>Broker：消息队列服务进程。此进程包括两个部分：Exchange和Queue。</li>
<li>Exchange：消息队列交换机。<strong>按一定的规则将消息路由转发到某个队列</strong>。</li>
<li>Queue：消息队列，存储消息的队列。</li>
<li>Producer：消息生产者。生产方客户端将消息同交换机路由发送到队列中。</li>
<li>Consumer：消息消费者。消费队列中存储的消息</li>
</ul>
<p>这些组成部分是如何协同工作的呢，大概的流程如下，请看下图：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\1ec27fc6b3e240b1a1fa74b52d4456c8.webp" alt="1ec27fc6b3e240b1a1fa74b52d4456c8" style="zoom: 80%;" />

<ol>
<li><strong>建立连接 (建立通道)</strong><ul>
<li><strong>寄件人 (Producer)</strong> 首先要和 <strong>快递公司 (Broker)</strong> 建立一条 **专用通道 (Connection)**。</li>
<li>为了提高效率，寄件人在这个通道上开辟了一条 **运输车道 (Channel)**。之后所有的包裹都通过这条车道发送。</li>
<li>同样，<strong>收件人 (Consumer)</strong> 也通过同样的方式与快递公司建立好了自己的联系。</li>
</ul>
</li>
<li><strong>生产者发送消息 (寄件人发货)</strong><ul>
<li>寄件人 (Producer) 写好了一个 **包裹 (Message)**。</li>
<li>他在 <strong>快递单 (Message Properties)</strong> 上填写了一个重要的信息：**地址&#x2F;关键词 (Routing Key)**，例如 <code>log.error.db</code>。</li>
<li>然后，他把这个包裹交给了指定的 **快递分拣中心 (Exchange)**，比如一个名为 <code>logs_exchange</code> 的交换机。</li>
<li>生产者只与交换机打交道，它并不知道消息会进入哪个具体的队列。这实现了生产者和队列的解耦。</li>
</ul>
</li>
<li><strong>交换机进行路由 (分拣中心开始工作)</strong><ul>
<li><strong>分拣中心 (Exchange)</strong> 收到了这个包裹。它的工作核心是 <strong>如何转发</strong>。它本身不存储任何包裹。</li>
<li>它会查看自己的 **分拣规则手册 (Bindings)**。这个手册记录了“哪个自提柜 (Queue) 对什么样的包裹感兴趣”。</li>
<li>分拣规则的核心，取决于交换机的类型。这是 RabbitMQ 最灵活、最强大的部分。</li>
</ul>
</li>
</ol>
<p><strong>Exchange的四种类型（重点）：</strong></p>
<p>Direct Exchange (直接匹配型)，只有当消息的 <code>Routing Key</code> 与 <code>Binding</code> 的 <code>Binding Key</code> <strong>完全匹配</strong>时，消息才会被路由到对应的队列。</p>
<p>Fanout Exchange (广播型)，一个发送到交换机的消息都会被转发到与该交换机绑定的所有队列上。</p>
<p>Topic Exchange (主题&#x2F;模式匹配型)，使用通配符匹配。</p>
<p>Headers Exchange (首部匹配型)，不是用routingKey进行路由匹配，而是在匹配请求头中所带的键值进行路由。</p>
<p>推荐教程：<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/769883#comment">超详细的RabbitMQ入门，看这篇就够了！-阿里云开发者社区</a></p>
<h3 id="Kafka"><a href="#Kafka" class="headerlink" title="Kafka"></a>Kafka</h3><img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726185616402.png" alt="image-20250726185616402" style="zoom:33%;" />

<p>主题Topic：生产者把不同类型的消息放到不同的主题中，不同消费者可以订阅不同的主题；</p>
<p>分区Partition：每个主题可以细分为分区，每个分区可以被不同消费者线程并行处理；分区内消息有序，分区间不保证有序；如果想要保证交易记录是有序的，可以把一个用户对应一个分区，这样可以保证每个用户是有序的；</p>
<p>偏移量Offset：Offset 是 Partition 中每条消息的唯一标识，可以看作是数组的下标。</p>
<p>Broker：Kafka 集群中的一个服务器实例或节点。它本质上是一个运行着 Kafka 服务的进程。它负责接收生产者的消息，分配 Offset，持久化到磁盘，并响应消费者的拉取请求。<strong>每个Broker可以存储多个主题的多个分区</strong></p>
<p>Broker集群：由多个 Broker 组成的分布式系统，实现可扩展性（可以通过增加 Broker 来线性扩展集群的存储容量和处理能力，可以实现负载均衡）和高可用性（Kafka 会为每个 Partition 创建多个副本，并将它们分布在不同的 Broker 上）。</p>
<p>Leader：在任意时刻，每个 <strong>Partition 的所有副本</strong>中，只有一个是 Leader Replica（领导者副本），所有读写请求都只由 Leader 处理。 生产者只向 Leader 发送数据，消费者只从 Leader 拉取数据。</p>
<p>Follower：Follower 的唯一任务就是不断地从 Leader 拉取数据，以保持与 Leader 的数据同步。如果某个 Partition 的 Leader所在的 Broker 挂掉了，Kafka 集群的控制器 (Controller)（也是一个 Broker）会从该 Partition 的 ISR 中选举一个新的 Follower 成为新的 Leader。</p>
<p>群组Group：多个消费者可以组成一个消费者组，共同消费同一或多个主题的消息，每条消息只能被同一组中的一个消费者消费，但可以被多个组消费。当一个消息需要被不同系统消费时，就可以用消费者组。</p>
<h3 id="Kafka使用"><a href="#Kafka使用" class="headerlink" title="Kafka使用"></a>Kafka使用</h3><p>首先进行安装配置，一般使用docker（win11家庭版需要强制配置Hyper-v，配置方法：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36344652/article/details/148342938?fromshare=blogdetail&sharetype=blogdetail&sharerId=148342938&sharerefer=PC&sharesource=qq_45644707&sharefrom=from_link">csdn</a>），终端输入：<code>docker pull apache/kafka:4.0.1-rc0</code>，拉取；</p>
<p>然后：<code>docker run -d --name kafka -p 9192:9092 apache/kafka:4.0.1-rc0</code>，后台启动；</p>
<p>最后：<code>docker exec -it kafka bash</code>，进入容器：</p>
<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726195817986.png" alt="image-20250726195817986" style="zoom: 33%;" />

<p>查询与创建主题（当前在&#x2F;opt&#x2F;kafka目录下）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-topics.sh --bootstrap-server localhost:9092 --list</span><br><span class="line">bin/kafka-topics.sh --bootstrap-server localhost:9092 --describe</span><br><span class="line">bin/kafka-topics.sh --bootstrap-server localhost:9092 --create --topic my-topic</span><br></pre></td></tr></table></figure>

<p>在终端中发送与接收消息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-console-producer.sh --bootstrap-server localhost:9092 --topic my-topic</span><br><span class="line">bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic my-topic</span><br><span class="line">bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --from-beginning --topic my-topic</span><br></pre></td></tr></table></figure>

<img src="D:\undergraduate_learning\self-learning\Spring后端学习笔记.assets\image-20250726200928645.png" alt="image-20250726200928645" style="zoom: 33%;" />

<h3 id="zookeeper与kafka集群（未完成！！）"><a href="#zookeeper与kafka集群（未完成！！）" class="headerlink" title="zookeeper与kafka集群（未完成！！）"></a>zookeeper与kafka集群（未完成！！）</h3><h3 id="Spring与kafka（未完成！！）"><a href="#Spring与kafka（未完成！！）" class="headerlink" title="Spring与kafka（未完成！！）"></a>Spring与kafka（未完成！！）</h3><h2 id="Hadoop"><a href="#Hadoop" class="headerlink" title="Hadoop"></a>Hadoop</h2><h2 id="scala"><a href="#scala" class="headerlink" title="scala"></a>scala</h2><h2 id="Flink"><a href="#Flink" class="headerlink" title="Flink"></a>Flink</h2><h2 id="RPC，Duddo，Spring-Cloud"><a href="#RPC，Duddo，Spring-Cloud" class="headerlink" title="RPC，Duddo，Spring Cloud"></a>RPC，Duddo，Spring Cloud</h2></div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2025/07/29/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/"></a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://trenchance2022.github.io"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="About"><img class="nofancybox" src="/img/trenchance.jpg"/></a><p>Give it your best shot.</p><a class="info-icon" href="https://github.com/trenchance2022" title="Github" target="_blank" style="margin-inline:5px"><img class="nofancybox" src="/img/github.png" style="width: 20px; height: 20px; margin-inline:5px; vertical-align: middle;"/></a><a class="info-icon" href="https://b23.tv/CPgDyCs" title="Bilibili" target="_blank" style="margin-inline:5px"><img class="nofancybox" src="/img/bilibili.png" style="width: 20px; height: 20px; margin-inline:5px; vertical-align: middle;"/></a><a class="info-icon" href="https://www.xiaohongshu.com/user/profile/62bece15000000001b027298" title="小红书" target="_blank" style="margin-inline:5px"><img class="nofancybox" src="/img/xiaohongshu.png" style="width: 20px; height: 20px; margin-inline:5px; vertical-align: middle;"/></a><a class="info-icon" href="mailto:renzg2004@126.com" title="Email" target="_blank" style="margin-inline:5px"><img class="nofancybox" src="/img/mail.png" style="width: 20px; height: 20px; margin-inline:5px; vertical-align: middle;"/></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2025/07/29/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/">前端笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/07/29/Spring-%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Spring 全栈开发学习笔记</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://github.com/trenchance2022" title="友链招募中" target="_blank">友链招募中</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2025 <a href="/." rel="nofollow">Trenchance's Home.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>